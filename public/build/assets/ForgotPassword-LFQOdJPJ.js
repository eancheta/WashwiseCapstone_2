import{d as g,r as f,z as v,x as k,a as r,o as d,e as o,b as n,t as a,f as b,g as p,v as m,u as t}from"./app-BrkHVxLL.js";const _={class:"flex min-h-screen items-center justify-center bg-[#F8FAFC]"},h={class:"bg-white p-6 rounded-lg shadow-md w-full max-w-md"},C={class:"text-xl font-bold mb-4 text-center"},P={key:0,class:"bg-green-50 text-green-700 p-3 rounded mb-4"},V={key:1,class:"bg-red-50 text-red-700 p-3 rounded mb-4"},F={key:0,class:"text-red-500 text-sm"},S=["disabled"],U={key:1,class:"text-green-600 text-sm mt-2 text-center"},q={key:0,class:"text-red-500 text-sm"},B={key:1,class:"text-red-500 text-sm"},D=["disabled"],R={key:2,class:"text-green-600 text-sm mt-2 text-center"},N=g({__name:"ForgotPassword",setup($){const c=f(1),i=f(""),w=f("user");v(()=>{const u=new URLSearchParams(window.location.search);w.value=u.get("type")||"user"});const e=k({email:"",code:"",password:"",password_confirmation:"",type:""}),x=()=>{e.type=w.value,e.post(route("password.sendCode"),{onSuccess:()=>{i.value="Verification code sent!",c.value=2}})},y=()=>{e.type=w.value,e.post(route("password.reset"),{onSuccess:()=>{i.value="Password reset successful! Redirecting...",setTimeout(()=>window.location.href=route("login"),1300)}})};return(u,s)=>(d(),r("div",_,[o("div",h,[o("h2",C,a(c.value===1?"Forgot Password":"Reset Password"),1),u.$page.props.flash.status?(d(),r("div",P,a(u.$page.props.flash.status),1)):n("",!0),u.$page.props.flash.error?(d(),r("div",V,a(u.$page.props.flash.error),1)):n("",!0),c.value===1?(d(),r("form",{key:2,onSubmit:b(x,["prevent"]),class:"space-y-3"},[s[4]||(s[4]=o("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),p(o("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>t(e).email=l),type:"email",required:"",class:"w-full border p-2 rounded"},null,512),[[m,t(e).email]]),t(e).errors.email?(d(),r("div",F,a(t(e).errors.email),1)):n("",!0),o("button",{disabled:t(e).processing,class:"w-full py-2 rounded text-white",style:{background:"#FF2D2D"}}," Send Verification Code ",8,S),i.value?(d(),r("p",U,a(i.value),1)):n("",!0)],32)):(d(),r("form",{key:3,onSubmit:b(y,["prevent"]),class:"space-y-3"},[s[5]||(s[5]=o("label",{class:"block text-sm font-medium text-gray-700"},"Verification Code",-1)),p(o("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>t(e).code=l),type:"text",required:"",class:"w-full border p-2 rounded"},null,512),[[m,t(e).code]]),t(e).errors.code?(d(),r("div",q,a(t(e).errors.code),1)):n("",!0),s[6]||(s[6]=o("label",{class:"block text-sm font-medium text-gray-700"},"New Password",-1)),p(o("input",{"onUpdate:modelValue":s[2]||(s[2]=l=>t(e).password=l),type:"password",required:"",class:"w-full border p-2 rounded"},null,512),[[m,t(e).password]]),t(e).errors.password?(d(),r("div",B,a(t(e).errors.password),1)):n("",!0),s[7]||(s[7]=o("label",{class:"block text-sm font-medium text-gray-700"},"Confirm Password",-1)),p(o("input",{"onUpdate:modelValue":s[3]||(s[3]=l=>t(e).password_confirmation=l),type:"password",required:"",class:"w-full border p-2 rounded"},null,512),[[m,t(e).password_confirmation]]),o("button",{disabled:t(e).processing,class:"w-full py-2 rounded text-white",style:{background:"#002B5C"}}," Reset Password ",8,D),i.value?(d(),r("p",R,a(i.value),1)):n("",!0)],32))])]))}});export{N as default};
