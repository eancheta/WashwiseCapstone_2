import{d as A,r as u,b as F,c as a,o as l,l as N,a as t,u as S,m as P,e as y,g as m,h as V,i as W,v as h,F as _,j as M,W as x,n as T,t as r}from"./app-CjXY2mcd.js";const E={class:"min-h-screen bg-gradient-to-br from-gray-100 via-white to-gray-100 py-6 px-4 flex flex-col items-center"},$={class:"w-full max-w-7xl p-6 sm:p-10"},j={class:"mb-8 p-6 bg-white shadow-lg rounded-2xl grid grid-cols-1 sm:grid-cols-3 gap-4 border border-gray-200"},I={key:0},z={key:1},R={key:0,class:"text-gray-500 text-lg text-center py-12"},U={key:1,class:"overflow-x-auto"},O={class:"w-full border border-gray-200 rounded-xl overflow-hidden shadow-sm"},Y={class:"text-[#182235] font-medium"},L={class:"px-4 py-3"},q={class:"px-4 py-3"},G={class:"px-4 py-3"},H={key:0,class:"text-green-600 font-semibold"},J={key:1,class:"text-red-600 font-semibold"},K={key:2,class:"text-gray-600 font-semibold"},Q={class:"px-4 py-3 text-center"},X={class:"px-4 py-3"},Z={class:"px-4 py-3"},tt={class:"px-4 py-3"},et={class:"px-4 py-3"},ot={class:"px-4 py-3"},st={class:"px-4 py-3"},nt={class:"px-4 py-3 text-center"},at=["src"],lt={class:"px-4 py-3 text-center font-bold text-[#FF2D2D]"},rt={class:"px-4 py-3 text-center flex justify-center gap-3"},it=["onClick"],dt=["onClick"],pt=A({__name:"OwnerAppointments",props:{appointments:{}},setup(b){const v=b;function w(s){x.post(`/owner/appointments/${s}/approve`)}function D(s){x.post(`/owner/appointments/${s}/decline`)}function k(s){return s.payment_proof?s.payment_proof.startsWith("http")||s.payment_proof.startsWith("/storage/")?s.payment_proof:`/storage/${s.payment_proof}`:"/images/no-proof.png"}function C(s){const e=s.target;e.src="/images/no-proof.png"}const i=u("all"),c=u(""),p=u(""),f=F(()=>{let s=[...v.appointments];const e=new Date;let o=null,n=null;if(i.value==="today")o=new Date(e.toDateString()),n=new Date(o),n.setDate(n.getDate()+1);else if(i.value==="week"){const d=e.getDate()-e.getDay();o=new Date(e.setDate(d)),n=new Date(e.setDate(d+7))}else i.value==="month"?(o=new Date(e.getFullYear(),e.getMonth(),1),n=new Date(e.getFullYear(),e.getMonth()+1,1)):i.value==="custom"&&c.value&&p.value&&(o=new Date(c.value),n=new Date(p.value),n.setDate(n.getDate()+1));return o&&n&&(s=s.filter(d=>{const g=new Date(d.date_of_booking);return g>=o&&g<n})),s});function B(){x.visit("/owner/dashboard")}return(s,e)=>(l(),a(_,null,[N(S(P),{title:"Owner Appointments"}),t("div",E,[t("div",$,[e[8]||(e[8]=t("div",{class:"text-center mb-8"},[t("h1",{class:"text-3xl sm:text-4xl font-extrabold text-[#002B5C] mb-2"}," Customer Appointments "),t("p",{class:"text-gray-500"},"Manage and monitor all customer bookings efficiently")],-1)),t("div",{class:"mb-6 flex justify-start"},[t("button",{onClick:B,class:"px-6 py-3 bg-[#002B5C] text-white font-semibold rounded-xl shadow-md hover:bg-[#FF2D2D] transition transform hover:-translate-y-0.5"}," â† Return to Dashboard ")]),t("div",j,[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-semibold text-gray-600 mb-1"},"Date Range",-1)),m(t("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>i.value=o),class:"w-full px-4 py-3 font-semibold text-[#182235] border rounded-lg focus:ring-2 focus:ring-[#002B5C] focus:outline-none"},[...e[3]||(e[3]=[W('<option value="all">All</option><option value="today">Today</option><option value="week">This Week</option><option value="month">This Month</option><option value="custom">Custom</option>',5)])],512),[[V,i.value]])]),i.value==="custom"?(l(),a("div",I,[e[5]||(e[5]=t("label",{class:"block text-sm font-semibold text-gray-600 mb-1"},"From",-1)),m(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=o=>c.value=o),class:"w-full px-4 py-3 font-semibold text-[#182235] border rounded-lg focus:ring-2 focus:ring-[#002B5C] focus:outline-none"},null,512),[[h,c.value]])])):y("",!0),i.value==="custom"?(l(),a("div",z,[e[6]||(e[6]=t("label",{class:"block text-sm font-semibold text-gray-600 mb-1"},"To",-1)),m(t("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=o=>p.value=o),class:"w-full px-4 py-3 font-semibold text-[#182235] border rounded-lg focus:ring-2 focus:ring-[#002B5C] focus:outline-none"},null,512),[[h,p.value]])])):y("",!0)]),f.value.length===0?(l(),a("div",R," No appointments found. ")):(l(),a("div",U,[t("table",O,[e[7]||(e[7]=t("thead",{class:"bg-gradient-to-r from-[#002B5C] to-[#00509E] text-white"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left"},"Date"),t("th",{class:"px-4 py-3 text-left"},"Time"),t("th",{class:"px-4 py-3 text-left"},"Status"),t("th",{class:"px-4 py-3 text-center"},"ID"),t("th",{class:"px-4 py-3 text-left"},"Name"),t("th",{class:"px-4 py-3 text-left"},"Email"),t("th",{class:"px-4 py-3 text-left"},"Car Size"),t("th",{class:"px-4 py-3 text-left"},"Contact"),t("th",{class:"px-4 py-3 text-left"},"Slot"),t("th",{class:"px-4 py-3 text-left"},"Created"),t("th",{class:"px-4 py-3 text-center"},"Payment Proof"),t("th",{class:"px-4 py-3 text-center"},"Amount"),t("th",{class:"px-4 py-3 text-center"},"Actions")])],-1)),t("tbody",Y,[(l(!0),a(_,null,M(f.value,(o,n)=>(l(),a("tr",{key:o.id,class:T(n%2===0?"bg-white hover:bg-gray-50":"bg-gray-50 hover:bg-gray-100 transition")},[t("td",L,r(o.date_of_booking),1),t("td",q,r(o.time_of_booking),1),t("td",G,[o.status==="approved"?(l(),a("span",H,"Approved")):o.status==="declined"?(l(),a("span",J,"Declined")):(l(),a("span",K,"Pending"))]),t("td",Q,r(o.id),1),t("td",X,r(o.name),1),t("td",Z,r(o.email||"Walk_IN"),1),t("td",tt,r(o.size_of_the_car),1),t("td",et,r(o.contact_no),1),t("td",ot,r(o.slot_number),1),t("td",st,r(o.created_at),1),t("td",nt,[t("img",{src:k(o),alt:"Payment Proof",class:"h-16 w-16 object-cover rounded border mx-auto",onError:C},null,40,at)]),t("td",lt,r(o.payment_amount??"Walk_IN"),1),t("td",rt,[t("button",{onClick:d=>w(o.id),class:"px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 shadow-md transition transform hover:-translate-y-0.5"}," Approve ",8,it),t("button",{onClick:d=>D(o.id),class:"px-4 py-2 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 shadow-md transition transform hover:-translate-y-0.5"}," Decline ",8,dt)])],2))),128))])])]))])])],64))}});export{pt as default};
