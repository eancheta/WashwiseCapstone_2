import{d as S,r as x,b as A,c as o,o as n,l as P,a as t,u as B,m as N,g as m,e as p,h as T,i as V,v as _,F as h,j as O,W as y,t as d}from"./app-B2f3nQsW.js";const j={class:"min-h-screen bg-gray-100"},F={class:"py-6 max-w-7xl mx-auto sm:px-6 lg:px-8"},M={class:"bg-white shadow-md rounded-lg p-6"},E={class:"mb-4 flex items-center space-x-4"},W={key:0,class:"flex items-center space-x-2"},$={class:"overflow-x-auto"},U={class:"min-w-full bg-white border rounded-lg shadow"},z={class:"px-4 py-3"},R={class:"px-4 py-3"},Y={class:"px-4 py-3"},q={class:"px-4 py-3"},I={class:"px-4 py-3"},L={class:"px-4 py-3"},X={class:"px-4 py-3"},G={class:"px-4 py-3 text-center"},H=["src"],J={key:1,src:"/images/NO_PROOF_DOES_NOT_EXIST.png",class:"h-16 w-16 object-cover rounded border mx-auto"},K={},Q={class:"px-4 py-3"},Z={key:0,class:"px-2 py-1 text-xs font-semibold text-yellow-800 bg-yellow-100 rounded-full"},tt={key:1,class:"px-2 py-1 text-xs font-semibold text-green-800 bg-green-100 rounded-full"},et={key:2,class:"px-2 py-1 text-xs font-semibold text-red-800 bg-red-100 rounded-full"},st={key:3,class:"px-2 py-1 text-xs font-semibold text-blue-800 bg-blue-100 rounded-full"},ot={key:4,class:"px-2 py-1 text-xs font-semibold text-gray-800 bg-gray-100 rounded-full"},nt={class:"px-4 py-3 text-center space-x-2"},at=["onClick"],lt=["onClick"],dt={key:0},it="https://res.cloudinary.com/dqfyjxaw2/image/upload/v1758645874/",ut=S({__name:"OwnerAppointments",props:{appointments:{}},setup(b){const v=b;function w(a){y.post(`/owner/appointments/${a}/approve`)}function D(a){y.post(`/owner/appointments/${a}/decline`)}function k(a){if(a.payment_proof)return a.payment_proof.startsWith("http")?a.payment_proof:it+a.payment_proof}const i=x("all"),r=x(""),u=x(""),g=A(()=>{let a=[...v.appointments];const s=new Date;let e=null,l=null;if(i.value==="today")e=new Date(s.toDateString()),l=new Date(e),l.setDate(l.getDate()+1);else if(i.value==="week"){const c=s.getDate()-s.getDay();e=new Date(s.setDate(c)),l=new Date(s.setDate(c+7))}else i.value==="month"?(e=new Date(s.getFullYear(),s.getMonth(),1),l=new Date(s.getFullYear(),s.getMonth()+1,1)):i.value==="custom"&&r.value&&u.value&&(e=new Date(r.value),l=new Date(u.value),l.setDate(l.getDate()+1));return e&&l&&(a=a.filter(c=>{const f=new Date(c.date_of_booking);return f>=e&&f<l})),a});function C(){y.visit("/owner/dashboard")}return(a,s)=>(n(),o(h,null,[P(B(N),{title:"Appointments"}),t("div",j,[t("div",{class:"bg-white shadow"},[t("div",{class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 flex justify-between items-center"},[s[3]||(s[3]=t("h1",{class:"text-3xl font-bold text-gray-900"},"Appointments",-1)),t("button",{onClick:C,class:"px-4 py-2 bg-gray-700 text-white rounded-lg shadow hover:bg-gray-800"}," Back to Dashboard ")])]),t("div",F,[t("div",M,[t("div",E,[m(t("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>i.value=e),class:"border rounded p-2"},[...s[4]||(s[4]=[V('<option value="all">All</option><option value="today">Today</option><option value="week">This Week</option><option value="month">This Month</option><option value="custom">Custom</option>',5)])],512),[[T,i.value]]),i.value==="custom"?(n(),o("div",W,[m(t("input",{type:"date","onUpdate:modelValue":s[1]||(s[1]=e=>r.value=e),class:"border rounded p-2"},null,512),[[_,r.value]]),s[5]||(s[5]=t("span",null,"to",-1)),m(t("input",{type:"date","onUpdate:modelValue":s[2]||(s[2]=e=>u.value=e),class:"border rounded p-2"},null,512),[[_,u.value]])])):p("",!0)]),t("div",$,[t("table",U,[s[7]||(s[7]=t("thead",null,[t("tr",{class:"bg-gray-50 border-b"},[t("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-600"},"Name"),t("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-600"},"Car Size"),t("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-600"},"Contact"),t("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-600"},"Email"),t("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-600"},"Booking Time"),t("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-600"},"Booking Date"),t("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-600"},"Slot"),t("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-600"},"Payment Proof"),t("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-600"},"Amount"),t("th",{class:"px-4 py-3 text-left text-sm font-medium text-gray-600"},"Status"),t("th",{class:"px-4 py-3 text-center text-sm font-medium text-gray-600"},"Actions")])],-1)),t("tbody",null,[(n(!0),o(h,null,O(g.value,e=>(n(),o("tr",{key:e.id,class:"border-b hover:bg-gray-50"},[t("td",z,d(e.name),1),t("td",R,d(e.size_of_the_car),1),t("td",Y,d(e.contact_no),1),t("td",q,d(e.email),1),t("td",I,d(e.time_of_booking),1),t("td",L,d(e.date_of_booking),1),t("td",X,d(e.slot_number),1),t("td",G,[e.payment_proof?(n(),o("img",{key:0,src:k(e),alt:"Payment Proof",class:"h-16 w-16 object-cover rounded border mx-auto"},null,8,H)):(n(),o("img",J))]),t("td",K,d(e.payment_amount??"-"),1),t("td",Q,[e.status==="pending"?(n(),o("span",Z," Pending ")):e.status==="approved"?(n(),o("span",tt," Approved ")):e.status==="declined"?(n(),o("span",et," Declined ")):e.status==="paid"?(n(),o("span",st," Paid ")):(n(),o("span",ot,d(e.status),1))]),t("td",nt,[e.status==="pending"?(n(),o("button",{key:0,onClick:l=>w(e.id),class:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700"}," Approve ",8,at)):p("",!0),e.status==="pending"?(n(),o("button",{key:1,onClick:l=>D(e.id),class:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700"}," Decline ",8,lt)):p("",!0)])]))),128)),g.value.length===0?(n(),o("tr",dt,[...s[6]||(s[6]=[t("td",{colspan:"11",class:"px-4 py-3 text-center text-gray-500 italic"}," No appointments found ",-1)])])):p("",!0)])])])])])])],64))}});export{ut as default};
