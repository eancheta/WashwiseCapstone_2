import{d as D,r as p,b as B,c as r,o as l,l as F,a as t,u as d,m as I,t as c,n as S,f as u,g as $,h as j,F as f,j as h,e as E}from"./app-B2f3nQsW.js";import{d as n}from"./index-DmfsM4rn.js";const L={class:"w-full bg-white flex items-center justify-between px-6 py-3 border-b border-gray-200 shadow-sm sticky top-0 z-40"},N={class:"text-center"},q={class:"text-lg font-semibold text-gray-800"},V={class:"flex min-h-screen"},W={class:"space-y-3 p-4"},z={class:"flex-1 p-8 bg-gradient-to-br from-white via-blue-50 to-[#002B5C]"},A={class:"mt-6"},M=["value"],O={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-6"},P=["src"],Q={class:"text-lg font-semibold text-gray-800"},T={class:"text-sm text-gray-500 mb-5"},G=["onClick"],H=["href"],R={key:0,class:"mt-4"},U=["src"],J={key:1,class:"text-gray-500 text-center mt-10"},Z=D({__name:"Dashboard",props:{shops:{},districts:{},auth:{}},setup(v){const g=p(!1);function b(){g.value=!g.value}const a=v,i=p("all"),y=()=>{n.Inertia.post("/logout",{},{onSuccess:()=>n.Inertia.get("/login"),onError:o=>{console.error("Logout error:",o),alert("Failed to log out.")}})},w=o=>{if(!a.auth.user){n.Inertia.get("/login");return}n.Inertia.get(`/customer/book/${o}`)},x=B(()=>i.value==="all"?a.shops:a.shops.filter(o=>o.district==i.value));function k(o){return o.logo?o.logo.startsWith("http")?o.logo:`/storage/${o.logo}`:"/images/default-carwash.png"}function _(o){return o.qr_code?o.qr_code.startsWith("http")?o.qr_code:`/storage/${o.qr_code}`:""}function C(o){const e=o.target;e&&(e.src="/logos/default-carwash.png")}return(o,e)=>{var m;return l(),r(f,null,[F(d(I),{title:"Customer Dashboard"}),t("div",L,[t("div",{class:"flex items-center gap-4"},[t("button",{onClick:b,class:"flex flex-col justify-between w-6 h-5 focus:outline-none hover:opacity-80 transition"},[...e[4]||(e[4]=[t("span",{class:"block h-0.5 bg-gray-800 rounded"},null,-1),t("span",{class:"block h-0.5 bg-gray-800 rounded"},null,-1),t("span",{class:"block h-0.5 bg-gray-800 rounded"},null,-1)])]),e[5]||(e[5]=t("img",{src:"/images/washwiselogo2.png",alt:"App Logo",class:"h-8 w-8 object-contain"},null,-1))]),t("div",N,[t("h2",q,c(((m=a.auth.user)==null?void 0:m.name)||"Guest"),1)])]),t("div",V,[t("aside",{class:S(["fixed top-0 left-0 h-full w-64 bg-gradient-to-b from-[#182235] to-[#0f172a] text-white shadow-lg z-50 transform transition-transform duration-300",g.value?"translate-x-0":"-translate-x-full"])},[t("div",{class:"flex justify-between items-center p-4 border-b border-gray-700"},[e[6]||(e[6]=t("h2",{class:"text-lg font-bold"},"Menu",-1)),t("button",{onClick:b,class:"text-gray-400 hover:text-red-500 text-2xl"},"×")]),t("nav",W,[t("button",{onClick:e[0]||(e[0]=u(s=>d(n.Inertia).get("/settings/profile"),["prevent"])),class:"w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 transition text-gray-900 font-bold"},"⚙️ Edit Profile"),t("button",{onClick:e[1]||(e[1]=u(s=>d(n.Inertia).get("/settings/password"),["prevent"])),class:"w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 transition text-gray-900 font-bold"},"🔒 Password"),t("button",{onClick:e[2]||(e[2]=u(s=>d(n.Inertia).get("/settings/appearance"),["prevent"])),class:"w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 transition text-gray-900 font-bold"},"💳 Transaction History"),t("button",{onClick:y,class:"w-full text-left px-3 py-2 rounded-lg text-red-600 hover:bg-red-50 transition font-bold"},"🚪 Log Out")])],2),t("main",z,[e[9]||(e[9]=t("h1",{class:"text-3xl font-extrabold text-gray-900 text-center"},"Available Car Wash Services",-1)),t("div",A,[e[8]||(e[8]=t("label",{for:"district",class:"block text-sm font-medium text-gray-900"},"Nearby",-1)),$(t("select",{id:"district","onUpdate:modelValue":e[3]||(e[3]=s=>i.value=s),class:"mt-2 w-full border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm text-gray-900"},[e[7]||(e[7]=t("option",{value:"all"},"All Districts",-1)),(l(!0),r(f,null,h(a.districts,s=>(l(),r("option",{key:s,value:s},"District "+c(s),9,M))),128))],512),[[j,i.value]])]),x.value.length>0?(l(),r("div",O,[(l(!0),r(f,null,h(x.value,s=>(l(),r("div",{key:s.id,class:"bg-white shadow-md rounded-xl p-6 flex flex-col items-center text-center border border-gray-200 hover:shadow-xl hover:-translate-y-1 transition"},[t("img",{src:k(s),alt:"Car Wash Logo",class:"h-20 w-20 object-contain mb-4",onError:C},null,40,P),t("h3",Q,c(s.name),1),t("p",T,c(s.address),1),t("button",{onClick:u(K=>w(s.id),["prevent"]),class:"px-5 py-2 rounded-full bg-[#002B5C] text-white font-medium shadow hover:bg-[#FF2D2D] hover:scale-105 transition"}," Book Now ",8,G),t("a",{href:`/customer/feedback/${s.id}`,class:"mt-2 px-5 py-2 rounded-full bg-[#FF2D2D] text-white font-medium shadow hover:bg-[#002B5C] hover:scale-105 transition"}," Feedback ",8,H),s.qr_code?(l(),r("div",R,[t("img",{src:_(s),alt:"QR Code",class:"w-24 h-24 object-contain"},null,8,U)])):E("",!0)]))),128))])):(l(),r("p",J,"No approved shops available."))])])],64)}}});export{Z as default};
