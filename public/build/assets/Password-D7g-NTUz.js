import{d as N,r as a,x as V,a as n,o as d,l as $,e as t,u as l,m as z,b,t as x,f as M,g,P as w,n as v,F as S,W as D}from"./app-prP02tg7.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"min-h-screen flex flex-col justify-between bg-[#F8FAFC] relative pb-16 sm:pb-0"},E={class:"flex flex-1 items-center justify-center px-4"},U={class:"relative w-full max-w-md bg-white rounded-2xl shadow-xl p-8 z-10"},A={class:"relative z-10"},T={key:0,class:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg text-center font-semibold"},W={key:1,class:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg text-center font-semibold"},H={class:"relative"},I=["type"],R={key:0,class:"text-red-500 text-sm mt-1"},Y={class:"relative"},G=["type"],J={key:0,class:"text-red-500 text-sm mt-1"},K={class:"relative"},L=["type"],O=["disabled"],Q={class:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around py-2 shadow-lg sm:hidden"},X=N({__name:"Password",setup(Z){const i=a(!1),u=a(!1),p=a(!1);function B(){D.visit("/dashboard")}const e=V({current_password:"",password:"",password_confirmation:""}),f=a(""),c=a(""),y=(r=3e3)=>{setTimeout(()=>{f.value="",c.value=""},r)},P=()=>{e.put("/settings/password",{onSuccess:()=>{f.value="Password changed successfully! You can now log in.",e.reset("current_password","password","password_confirmation"),y(3500)},onError:r=>{var k,C,F,h,_;const s=((k=r==null?void 0:r.response)==null?void 0:k.data)??r,o=((F=(C=s==null?void 0:s.errors)==null?void 0:C.current_password)==null?void 0:F[0])||((_=(h=s==null?void 0:s.errors)==null?void 0:h.password)==null?void 0:_[0])||(s==null?void 0:s.message)||"Failed to change password. Please check your inputs.";c.value=o,y(5e3),console.error("Change password error:",r)}})};function m(r){D.visit(r)}return(r,s)=>(d(),n(S,null,[$(l(z),{title:"Change Password"}),t("div",q,[t("div",{class:"absolute top-4 left-4 z-20"},[t("button",{onClick:B,type:"button",class:"flex items-center gap-2 px-3 py-1.5 bg-gray-200 text-black rounded-lg text-sm font-medium shadow hover:bg-[#FF2D2D] hover:text-white transition"}," â¬… Return ")]),t("div",E,[t("div",U,[s[13]||(s[13]=t("div",{class:"absolute -top-10 -left-10 w-24 h-24 bg-[#FF2D2D] opacity-10 rounded-full blur-2xl"},null,-1)),s[14]||(s[14]=t("div",{class:"absolute -bottom-10 -right-10 w-32 h-32 bg-[#002B5C] opacity-10 rounded-full blur-2xl"},null,-1)),t("div",A,[s[12]||(s[12]=t("h1",{class:"text-2xl font-extrabold text-center text-[#002B5C] mb-6 tracking-tight"}," Change Password ",-1)),f.value?(d(),n("div",T,x(f.value),1)):b("",!0),c.value?(d(),n("div",W,x(c.value),1)):b("",!0),t("form",{onSubmit:M(P,["prevent"]),class:"space-y-6"},[t("div",H,[s[9]||(s[9]=t("label",{class:"block text-sm font-bold text-[#182235] mb-1"},"Current Password",-1)),g(t("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>l(e).current_password=o),type:i.value?"text":"password",class:"mt-1 block w-full border-2 border-gray-300 rounded-lg p-2.5 pr-10 text-[#182235] focus:ring-2 focus:ring-[#FF2D2D] transition",autocomplete:"current-password",required:""},null,8,I),[[w,l(e).current_password]]),t("button",{type:"button",class:"absolute right-3 top-9 text-gray-500 hover:text-[#FF2D2D]",onClick:s[1]||(s[1]=o=>i.value=!i.value)},[t("i",{class:v(i.value?"fa-solid fa-eye-slash":"fa-solid fa-eye")},null,2)]),l(e).errors.current_password?(d(),n("div",R,x(l(e).errors.current_password),1)):b("",!0)]),t("div",Y,[s[10]||(s[10]=t("label",{class:"block text-sm font-bold text-[#182235] mb-1"},"New Password",-1)),g(t("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>l(e).password=o),type:u.value?"text":"password",class:"mt-1 block w-full border-2 border-gray-300 rounded-lg p-2.5 pr-10 text-[#182235] focus:ring-2 focus:ring-[#FF2D2D] transition",autocomplete:"new-password",required:""},null,8,G),[[w,l(e).password]]),t("button",{type:"button",class:"absolute right-3 top-9 text-gray-500 hover:text-[#FF2D2D]",onClick:s[3]||(s[3]=o=>u.value=!u.value)},[t("i",{class:v(u.value?"fa-solid fa-eye-slash":"fa-solid fa-eye")},null,2)]),l(e).errors.password?(d(),n("div",J,x(l(e).errors.password),1)):b("",!0)]),t("div",K,[s[11]||(s[11]=t("label",{class:"block text-sm font-bold text-[#182235] mb-1"},"Confirm New Password",-1)),g(t("input",{"onUpdate:modelValue":s[4]||(s[4]=o=>l(e).password_confirmation=o),type:p.value?"text":"password",class:"mt-1 block w-full border-2 border-gray-300 rounded-lg p-2.5 pr-10 text-[#182235] focus:ring-2 focus:ring-[#FF2D2D] transition",autocomplete:"new-password",required:""},null,8,L),[[w,l(e).password_confirmation]]),t("button",{type:"button",class:"absolute right-3 top-9 text-gray-500 hover:text-[#FF2D2D]",onClick:s[5]||(s[5]=o=>p.value=!p.value)},[t("i",{class:v(p.value?"fa-solid fa-eye-slash":"fa-solid fa-eye")},null,2)])]),t("button",{type:"submit",class:"w-full bg-[#FF2D2D] text-white py-3 rounded-xl font-semibold text-base hover:bg-[#002B5C] active:scale-95 transition",disabled:l(e).processing}," Save Changes ",8,O)],32)])])]),t("div",Q,[t("button",{onClick:s[6]||(s[6]=o=>m("/dashboard")),class:"flex flex-col items-center text-[#002B5C]"},[...s[15]||(s[15]=[t("i",{class:"fa-solid fa-house text-lg"},null,-1),t("span",{class:"text-xs mt-0.5"},"Home",-1)])]),t("button",{onClick:s[7]||(s[7]=o=>m("/bookings")),class:"flex flex-col items-center text-[#002B5C]"},[...s[16]||(s[16]=[t("i",{class:"fa-solid fa-calendar text-lg"},null,-1),t("span",{class:"text-xs mt-0.5"},"Bookings",-1)])]),t("button",{onClick:s[8]||(s[8]=o=>m("/profile")),class:"flex flex-col items-center text-[#002B5C]"},[...s[17]||(s[17]=[t("i",{class:"fa-solid fa-user text-lg"},null,-1),t("span",{class:"text-xs mt-0.5"},"Profile",-1)])])])])],64))}}),es=j(X,[["__scopeId","data-v-768f6eb6"]]);export{es as default};
