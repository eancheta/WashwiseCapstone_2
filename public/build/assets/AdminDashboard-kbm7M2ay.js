import{d as F,r as c,c as a,o as n,a as t,e as m,n as h,j as y,f as A,t as o,F as f,i as g,g as N,v as W,W as b,z as _}from"./app-yk8A5ETj.js";const j={class:"min-h-screen flex flex-col sm:flex-row bg-gray-50"},P={class:"sm:hidden flex justify-between items-center bg-white shadow px-4 py-3"},V={class:"flex flex-col gap-2"},$={class:"flex-1 p-4 sm:p-8 mt-14 sm:mt-0"},O={class:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6 text-[#182235]"},S={key:0,class:"overflow-x-auto bg-white rounded-xl shadow border border-gray-200"},T={class:"min-w-full text-sm sm:text-base"},U={class:"py-2 px-3"},z={class:"py-2 px-3"},B={class:"py-2 px-3"},E={class:"py-2 px-3"},L={class:"py-2 px-3"},M={class:"py-2 px-3"},I={class:"py-2 px-3"},R={key:1,class:"overflow-x-auto bg-white rounded-xl shadow border border-gray-200"},q={class:"min-w-[1000px] w-full text-xs sm:text-sm"},G={class:"bg-gray-100 text-[#182235]"},H={class:"text-[#182235]"},J={class:"px-2 py-2 text-center"},K={class:"px-2 py-2"},Q={class:"px-2 py-2"},X={class:"px-2 py-2"},Y={class:"px-2 py-2"},Z={class:"px-2 py-2"},tt={class:"px-2 py-2"},st={class:"px-2 py-2 text-center"},et=["src"],ot={class:"px-2 py-2 text-center"},lt=["src"],at={class:"px-2 py-2 text-center"},nt=["src"],it={class:"px-2 py-2 text-center"},rt={class:"px-2 py-2 text-center truncate max-w-[80px]"},dt={class:"px-2 py-2 text-center"},ct={class:"px-2 py-2 text-center"},pt={class:"px-2 py-2 text-center space-x-1 sm:space-x-2"},xt=["onClick"],ut=["onClick"],mt={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 px-4"},ht={class:"bg-white w-full max-w-md rounded-2xl shadow-xl p-6 relative"},ft={class:"mt-6 flex justify-end gap-3"},yt=F({__name:"AdminDashboard",props:{owners:{},users:{}},setup(gt){function x(l){return l?l.startsWith("http://")||l.startsWith("https://")?l:`/storage/${l}`:"https://placehold.co/100x100?text=No+Photo"}const i=c("users"),r=c(!1),p=c(!1),d=c(""),u=c(null),v=l=>{confirm("Are you sure you want to approve this owner?")&&b.post(_("owners.approve",{id:l}))},w=l=>{u.value=l,p.value=!0},D=()=>{if(!u.value||!d.value.trim()){alert("Please enter a reason before declining.");return}b.post(_("owners.decline",{id:u.value}),{reason:d.value}),p.value=!1,d.value=""},k=()=>{b.post("/logout")};return(l,e)=>(n(),a("div",j,[t("div",P,[e[5]||(e[5]=t("div",{class:"flex items-center gap-2"},[t("img",{src:"/images/washwiselogo2.png",alt:"Logo",class:"h-8 w-auto"}),t("h1",{class:"font-bold text-[#182235]"},"WashWise Admin")],-1)),t("button",{onClick:e[0]||(e[0]=s=>r.value=!r.value),class:"text-[#182235] text-xl"},"☰")]),t("aside",{class:h(["bg-white shadow-lg flex flex-col py-6 px-4 w-64 fixed sm:static inset-y-0 left-0 z-30 transform transition-transform duration-300",r.value?"translate-x-0":"-translate-x-full sm:translate-x-0"])},[e[9]||(e[9]=t("div",{class:"flex flex-col items-center mb-10"},[t("img",{src:"/images/washwiselogo2.png",alt:"WashWise Logo",class:"h-14 w-auto mb-2",draggable:"false"}),t("span",{class:"text-xl font-bold text-[#182235]"},"Admin")],-1)),t("nav",V,[t("button",{class:h(["flex items-center gap-3 px-4 py-2 rounded-lg font-semibold transition",i.value==="users"?"bg-[#FF2D2D] text-white":"text-[#182235] hover:bg-[#f8fafc]"]),onClick:e[1]||(e[1]=s=>{i.value="users",r.value=!1})},[...e[6]||(e[6]=[t("span",null,"👤",-1),y(" Users ",-1)])],2),t("button",{class:h(["flex items-center gap-3 px-4 py-2 rounded-lg font-semibold transition",i.value==="owners"?"bg-[#FF2D2D] text-white":"text-[#182235] hover:bg-[#f8fafc]"]),onClick:e[2]||(e[2]=s=>{i.value="owners",r.value=!1})},[...e[7]||(e[7]=[t("span",null,"🏢",-1),y(" Owners ",-1)])],2)]),t("form",{onSubmit:A(k,["prevent"]),class:"mt-auto pt-10"},[...e[8]||(e[8]=[t("button",{class:"w-full bg-[#FF2D2D] hover:bg-[#d72626] text-white px-4 py-2 rounded-lg font-semibold shadow transition"}," Logout ",-1)])],32)],2),t("main",$,[t("h1",O,o(i.value==="users"?"Users":"Owners"),1),i.value==="users"?(n(),a("div",S,[t("table",T,[e[10]||(e[10]=t("thead",null,[t("tr",{class:"bg-gray-100 text-left text-[#182235]"},[t("th",{class:"py-2 px-3"},"ID"),t("th",{class:"py-2 px-3"},"Name"),t("th",{class:"py-2 px-3"},"Email"),t("th",{class:"py-2 px-3"},"Verified At"),t("th",{class:"py-2 px-3"},"Verification Code"),t("th",{class:"py-2 px-3"},"Created"),t("th",{class:"py-2 px-3"},"Updated")])],-1)),t("tbody",null,[(n(!0),a(f,null,g(l.users,s=>(n(),a("tr",{key:s.id,class:"hover:bg-gray-50 border-t text-[#182235] transition"},[t("td",U,o(s.id),1),t("td",z,o(s.name),1),t("td",B,o(s.email),1),t("td",E,o(s.email_verified_at||"Not verified"),1),t("td",L,o(s.verification_code||"N/A"),1),t("td",M,o(s.created_at),1),t("td",I,o(s.updated_at),1)]))),128))])])])):m("",!0),i.value==="owners"?(n(),a("div",R,[t("table",q,[t("thead",G,[t("tr",null,[(n(),a(f,null,g(["ID","Name","Email","Verified At","Password","District","Address","Photo1","Photo2","Photo3","Status","Token","Created","Updated","Actions"],s=>t("th",{key:s,class:"px-2 sm:px-4 py-2 sm:py-3 font-semibold whitespace-nowrap"},o(s),1)),64))])]),t("tbody",H,[(n(!0),a(f,null,g(l.owners,s=>(n(),a("tr",{key:s.id,class:"border-t hover:bg-gray-50 transition"},[t("td",J,o(s.id),1),t("td",K,o(s.name),1),t("td",Q,o(s.email),1),t("td",X,o(s.email_verified_at),1),t("td",Y,o(s.password),1),t("td",Z,o(s.district),1),t("td",tt,o(s.address),1),t("td",st,[t("img",{src:x(s.photo1),alt:"Photo 1",class:"h-10 w-10 sm:h-16 sm:w-16 object-cover rounded border mx-auto"},null,8,et)]),t("td",ot,[t("img",{src:x(s.photo2),alt:"Photo 2",class:"h-10 w-10 sm:h-16 sm:w-16 object-cover rounded border mx-auto"},null,8,lt)]),t("td",at,[t("img",{src:x(s.photo3),alt:"Photo 3",class:"h-10 w-10 sm:h-16 sm:w-16 object-cover rounded border mx-auto"},null,8,nt)]),t("td",it,o(s.status),1),t("td",rt,o(s.remember_token),1),t("td",dt,o(s.created_at),1),t("td",ct,o(s.updated_at),1),t("td",pt,[t("button",{onClick:C=>v(s.id),class:"px-2 py-1 sm:px-4 sm:py-1 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold transition text-xs sm:text-sm"},"Approve",8,xt),t("button",{onClick:C=>w(s.id),class:"px-2 py-1 sm:px-4 sm:py-1 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition text-xs sm:text-sm"},"Decline",8,ut)])]))),128))])])])):m("",!0)]),p.value?(n(),a("div",mt,[t("div",ht,[e[11]||(e[11]=t("h2",{class:"text-xl font-bold text-[#002B5C] mb-4"},"Decline Owner Request",-1)),e[12]||(e[12]=t("p",{class:"text-gray-600 mb-3"},"Please write the reason for declining this owner:",-1)),N(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=s=>d.value=s),rows:"4",placeholder:"Type reason here...",class:"w-full border border-gray-300 rounded-lg p-3 text-gray-800 focus:ring-2 focus:ring-[#FF2D2D] focus:outline-none"},null,512),[[W,d.value]]),t("div",ft,[t("button",{onClick:e[4]||(e[4]=s=>p.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-800 rounded-lg font-semibold hover:bg-gray-400"}," Cancel "),t("button",{onClick:D,class:"px-5 py-2 bg-[#FF2D2D] text-white font-semibold rounded-lg hover:bg-[#E02626] transition"}," Send & Decline ")])])])):m("",!0)]))}});export{yt as default};
