import{d as W,q as D,r as v,b as S,c as a,o as l,l as i,a as t,u as s,m as j,t as y,y as u,j as n,n as d,z as o,S as p,e as _,F as z,W as C}from"./app-DUv9yysE.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"w-full bg-white flex items-center justify-between px-6 py-3 border-b border-gray-200 shadow-sm sticky top-0 z-40"},V={class:"flex items-center space-x-2 px-3 py-2 rounded-lg"},L={class:"text-gray-700 font-medium"},T={class:"flex-1 mt-6 px-4 space-y-2"},$={class:"relative flex items-center justify-center min-h-screen bg-cover bg-center",style:{"background-image":"url('/images/hero-carwash.jpg')"}},q={class:"relative z-10 flex flex-col items-center justify-center w-full px-4 py-20"},I={class:"text-4xl md:text-6xl font-extrabold text-white text-center mb-4 leading-tight drop-shadow"},M={class:"text-white"},P={key:0,class:"mt-4 flex flex-col items-center space-y-3"},R={class:"text-sm text-white"},Y=["disabled"],G={key:0},H={key:1},J=["disabled"],K={key:0},Q={key:1},U={key:1,class:"text-sm text-gray-500 mt-1"},X=W({__name:"CarWashOwnerDashboard",props:{isOpen:{type:Boolean}},setup(O){const c=O,m=D(),b=v(!1);function k(){b.value=!b.value}const x=S(()=>{var r,e;return((e=(r=m.props)==null?void 0:r.auth)==null?void 0:e.user)??null}),h=S(()=>{var r,e,w,F;return((r=m.props)==null?void 0:r.shop)??((F=(w=(e=m.props)==null?void 0:e.auth)==null?void 0:w.user)==null?void 0:F.shop)??null}),g=v(!1),f=v(!1);function A(r){if(!r){console.warn("closeShop called without id");return}g.value||(g.value=!0,C.post(o("owner.shop.close",{id:r}),{},{preserveScroll:!0,onFinish:()=>{g.value=!1},onError:e=>{console.error("Close shop error",e),g.value=!1}}))}function B(r){if(!r){console.warn("openShop called without id");return}f.value||(f.value=!0,C.post(o("owner.shop.open",{id:r}),{},{preserveScroll:!0,onFinish:()=>{f.value=!1},onError:e=>{console.error("Open shop error",e),f.value=!1}}))}return(r,e)=>(l(),a(z,null,[i(s(j),{title:"Owner Dashboard"}),t("div",N,[t("div",{class:"flex items-center gap-4"},[t("button",{onClick:k,class:"flex flex-col justify-between w-6 h-5 focus:outline-none hover:opacity-80 transition","aria-label":"Toggle sidebar"},[...e[2]||(e[2]=[t("span",{class:"block h-0.5 bg-gray-800 rounded"},null,-1),t("span",{class:"block h-0.5 bg-gray-800 rounded"},null,-1),t("span",{class:"block h-0.5 bg-gray-800 rounded"},null,-1)])]),e[3]||(e[3]=t("img",{src:"/images/washwiselogo2.png",alt:"WashWise Logo",class:"h-10 w-auto select-none",draggable:"false"},null,-1))]),t("div",V,[t("span",L,y(x.value?x.value.name:"Owner"),1)])]),t("aside",{class:d(["fixed top-0 left-0 h-full w-64 bg-gradient-to-b from-[#182235] to-[#0f172a] text-white shadow-lg z-50 transform transition-transform duration-300",b.value?"translate-x-0":"-translate-x-full"])},[t("div",{class:"flex justify-between items-center p-4 border-b border-gray-700"},[e[4]||(e[4]=t("h2",{class:"text-lg font-bold"},"Menu",-1)),t("button",{onClick:k,class:"text-gray-400 hover:text-red-500 text-2xl","aria-label":"Close sidebar"},"×")]),t("nav",T,[i(s(p),{href:s(o)("owner.appointments"),class:d(["group flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-300",s(o)().current("owner.appointments")?"bg-white text-[#182235] shadow-lg":"bg-gradient-to-r from-[#1F3A5F] to-[#162B4A] text-white hover:bg-white hover:text-[#182235] hover:shadow-md"])},{default:u(()=>[...e[5]||(e[5]=[n(" Appointments ",-1)])]),_:1},8,["href","class"]),i(s(p),{href:s(o)("owner.password.edit"),class:d(["group flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-300",s(o)().current("owner.password.edit")?"bg-white text-[#182235] shadow-lg":"bg-gradient-to-r from-[#1F3A5F] to-[#162B4A] text-white hover:bg-white hover:text-[#182235] hover:shadow-md"])},{default:u(()=>[...e[6]||(e[6]=[n(" Change Password ",-1)])]),_:1},8,["href","class"]),i(s(p),{href:s(o)("owner.shop.edit"),class:d(["group flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-300",s(o)().current("owner.shop.edit")?"bg-white text-[#182235] shadow-lg":"bg-gradient-to-r from-[#1F3A5F] to-[#162B4A] text-white hover:bg-white hover:text-[#182235] hover:shadow-md"])},{default:u(()=>[...e[7]||(e[7]=[n(" Edit Shop ",-1)])]),_:1},8,["href","class"]),i(s(p),{href:s(o)("owner.reviews"),class:d(["group flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-300",s(o)().current("owner.reviews")?"bg-white text-[#182235] shadow-lg":"bg-gradient-to-r from-[#1F3A5F] to-[#162B4A] text-white hover:bg-white hover:text-[#182235] hover:shadow-md"])},{default:u(()=>[...e[8]||(e[8]=[n(" Reviews ",-1)])]),_:1},8,["href","class"]),i(s(p),{href:s(o)("owner.walkin"),class:d(["group flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-300",s(o)().current("owner.walkin")?"bg-white text-[#182235] shadow-lg":"bg-gradient-to-r from-[#1F3A5F] to-[#162B4A] text-white hover:bg-white hover:text-[#182235] hover:shadow-md"])},{default:u(()=>[...e[9]||(e[9]=[n(" Walk-in ",-1)])]),_:1},8,["href","class"]),i(s(p),{href:"/logout",method:"post",as:"button",class:"group flex items-center gap-3 px-4 py-3 rounded-xl text-white font-medium transition-all duration-300 hover:bg-white hover:text-[#182235] hover:shadow-md"},{default:u(()=>[...e[10]||(e[10]=[n(" Log Out ",-1)])]),_:1})])],2),t("section",$,[e[17]||(e[17]=t("div",{class:"absolute inset-0 bg-black/60"},null,-1)),t("div",q,[e[15]||(e[15]=t("div",{class:"uppercase tracking-widest text-sm text-[#FF2D2D] font-bold mb-4"},"Book Online",-1)),t("h1",I,[e[11]||(e[11]=n(" Welcome, ",-1)),t("span",M,y(x.value?x.value.name:"Owner"),1),e[12]||(e[12]=n("! ",-1))]),e[16]||(e[16]=t("div",{class:"text-base md:text-lg text-gray-100 text-center mb-8 max-w-2xl"}," Your dashboard is ready and waiting. Let’s make today productive—review appointments, check feedback, and keep your business running smoothly. ",-1)),h.value?(l(),a("div",P,[t("p",R,[e[13]||(e[13]=n(" Shop Status: ",-1)),t("span",{class:d(h.value.status==="open"?"text-green-400":"text-red-400")},y(h.value.status),3)]),h.value.status==="open"?(l(),a("button",{key:0,onClick:e[0]||(e[0]=w=>A(h.value.id)),disabled:g.value,class:"px-8 py-3 rounded-full bg-red-600 text-white font-bold text-lg shadow hover:bg-red-700 transition disabled:opacity-60"},[g.value?(l(),a("span",G,"Closing...")):(l(),a("span",H,"Close Shop"))],8,Y)):(l(),a("button",{key:1,onClick:e[1]||(e[1]=w=>B(h.value.id)),disabled:f.value,class:"px-8 py-3 rounded-full bg-green-600 text-white font-bold text-lg shadow hover:bg-green-700 transition disabled:opacity-60"},[f.value?(l(),a("span",K,"Opening...")):(l(),a("span",Q,"Open Shop"))],8,J))])):_("",!0),i(s(p),{href:c.isOpen?s(o)("owner.walkin"):"#",class:d(["mt-6 px-8 py-3 rounded-full text-white font-bold text-lg shadow transition",c.isOpen?"bg-[#FF2D2D] hover:bg-[#d72626]":"bg-gray-400 cursor-not-allowed"])},{default:u(()=>[...e[14]||(e[14]=[n(" Walk-in ",-1)])]),_:1},8,["href","class"]),c.isOpen?_("",!0):(l(),a("p",U," Shop is currently closed "))])])],64))}}),te=E(X,[["__scopeId","data-v-ece38ea2"]]);export{te as default};
