import{d as O,r,a as l,o as n,e as t,b as p,p as $,h as f,f as L,t as o,F as d,j as _,g as M,v as T,k as R,W as h,A as w}from"./app-D8GqhHZP.js";const Y={class:"min-h-screen flex flex-col sm:flex-row bg-gray-50"},q={class:"sm:hidden flex justify-between items-center bg-white shadow px-4 py-3"},G={class:"flex flex-col gap-2"},H={class:"flex-1 p-4 sm:p-8 mt-14 sm:mt-0"},J={class:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6 text-[#182235]"},K={key:0,class:"overflow-x-auto bg-white rounded-xl shadow border border-gray-200"},Q={class:"min-w-full text-sm sm:text-base"},X={class:"py-2 px-3"},Z={class:"py-2 px-3"},tt=["src","onClick"],et={key:1,class:"text-gray-400 text-xs"},st={class:"py-2 px-3"},ot={class:"py-2 px-3"},lt={class:"py-2 px-3"},nt={class:"py-2 px-3"},at={class:"py-2 px-3"},it={class:"py-2 px-3"},rt={class:"py-2 px-3"},dt={class:"flex flex-wrap gap-2 justify-center"},ct=["onClick"],ut=["onClick"],pt=["onClick"],xt={key:1,class:"overflow-x-auto bg-white rounded-xl shadow border border-gray-200"},mt={class:"min-w-[1000px] w-full text-xs sm:text-sm"},bt={class:"bg-gray-100 text-[#182235]"},ht={class:"text-[#182235]"},gt={class:"px-2 py-2 text-center"},vt={class:"px-2 py-2"},yt={class:"px-2 py-2"},ft={class:"px-2 py-2"},_t={class:"px-2 py-2"},wt={class:"px-2 py-2"},kt={class:"px-2 py-2"},Ct={class:"px-2 py-2 text-center"},Dt=["src","onClick"],Ft={class:"px-2 py-2 text-center"},At=["src","onClick"],$t={class:"px-2 py-2 text-center"},jt=["src","onClick"],Pt={class:"px-2 py-2 text-center"},Wt={class:"px-2 py-2 text-center truncate max-w-[80px]"},Nt={class:"px-2 py-2 text-center"},St={class:"px-2 py-2 text-center"},Vt={class:"px-2 py-2 text-center"},Mt={class:"flex flex-wrap gap-2 justify-center"},Tt=["onClick"],zt=["onClick"],Bt=["onClick"],It=["onClick"],Ut=["onClick"],Et={key:0,class:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50"},Ot=["src"],Lt={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 px-4"},Rt={class:"bg-white w-full max-w-md rounded-2xl shadow-xl p-6 relative"},Yt={class:"mt-6 flex justify-end gap-3"},qt={key:2,class:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 px-4"},Gt={class:"bg-white w-full max-w-2xl rounded-2xl shadow-xl p-6 relative"},Ht={class:"text-xl font-bold text-[#002B5C] mb-4"},Jt={key:0,class:"space-y-3 max-h-[60vh] overflow-y-auto"},Kt={class:"flex justify-between items-center"},Qt={class:"font-semibold text-[#182235]"},Xt={class:"text-yellow-500"},Zt={class:"text-gray-700 mt-1"},te={key:1,class:"text-gray-500 text-center py-4"},ee={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 px-4"},se={class:"bg-white w-full max-w-md rounded-2xl shadow-xl p-6 relative"},oe={class:"mt-6 flex justify-end gap-3"},le={class:"bg-[#182235] text-gray-200 text-center sm:text-left py-8 px-6 border-t border-gray-700"},ne={class:"border-t border-gray-700 mt-8 pt-4 text-center text-xs text-gray-400"},re=O({__name:"AdminDashboard",props:{owners:{},users:{}},setup(ae){function u(a){return a?a.startsWith("http://")||a.startsWith("https://")?a:`/storage/${a}`:"https://placehold.co/100x100?text=No+Photo"}const c=r("users"),x=r(!1),g=r(!1),m=r(""),k=r(null),z=a=>{confirm("Are you sure you want to approve this owner?")&&h.post(w("owners.approve",{id:a}))},B=()=>{h.post("/logout")},C=r(!1),j=r("");function v(a){j.value=a,C.value=!0}const D=r(!1),F=r([]),P=r("");function W(a){var s;P.value=a.name,F.value=((s=a.shop)==null?void 0:s.feedback)||[],D.value=!0}const y=r(!1),b=r(""),A=r(null),I=a=>{confirm("Are you sure you want to approve this customer?")&&h.post(w("customers.approve",{id:a}))},N=a=>{A.value=a,y.value=!0},U=()=>{if(!A.value||!b.value.trim()){alert("Please enter a reason before declining.");return}confirm("Are you sure you want to delete this account?")&&(h.post(w("customers.decline",{id:A.value}),{reason:b.value}),y.value=!1,b.value="")},S=a=>{k.value=a,g.value=!0},E=()=>{if(!k.value||!m.value.trim()){alert("Please enter a reason before declining.");return}confirm("Are you sure you want to delete this account?")&&(h.post(w("owners.decline",{id:k.value}),{reason:m.value}),g.value=!1,m.value="")};return(a,s)=>(n(),l(d,null,[t("div",Y,[t("div",q,[s[9]||(s[9]=t("div",{class:"flex items-center gap-2"},[t("img",{src:"/images/washwiselogo2.png",alt:"Logo",class:"h-8 w-auto"}),t("h1",{class:"font-bold text-[#182235]"},"WashWise Admin")],-1)),t("button",{onClick:s[0]||(s[0]=e=>x.value=!x.value),class:"text-[#182235] text-xl"},"â˜°")]),t("aside",{class:$(["bg-white shadow-lg flex flex-col py-6 px-4 w-64 fixed sm:static inset-y-0 left-0 z-30 transform transition-transform duration-300",x.value?"translate-x-0":"-translate-x-full sm:translate-x-0"])},[s[13]||(s[13]=t("div",{class:"flex flex-col items-center mb-10"},[t("img",{src:"/images/washwiselogo2.png",alt:"WashWise Logo",class:"h-14 w-auto mb-2",draggable:"false"}),t("span",{class:"text-xl font-bold text-[#182235]"},"Admin")],-1)),t("nav",G,[t("button",{class:$(["flex items-center gap-3 px-4 py-2 rounded-lg font-semibold transition",c.value==="users"?"bg-[#FF2D2D] text-white":"text-[#182235] hover:bg-[#f8fafc]"]),onClick:s[1]||(s[1]=e=>{c.value="users",x.value=!1})},[...s[10]||(s[10]=[t("span",null,"ğŸ‘¤",-1),f(" Customer Account ",-1)])],2),t("button",{class:$(["flex items-center gap-3 px-4 py-2 rounded-lg font-semibold transition",c.value==="owners"?"bg-[#FF2D2D] text-white":"text-[#182235] hover:bg-[#f8fafc]"]),onClick:s[2]||(s[2]=e=>{c.value="owners",x.value=!1})},[...s[11]||(s[11]=[t("span",null,"ğŸ¢",-1),f(" Owners Account ",-1)])],2)]),t("form",{onSubmit:L(B,["prevent"]),class:"mt-auto pt-10"},[...s[12]||(s[12]=[t("button",{class:"w-full bg-[#FF2D2D] hover:bg-[#d72626] text-white px-4 py-2 rounded-lg font-semibold shadow transition"}," Logout ",-1)])],32)],2),t("main",H,[t("h1",J,o(c.value==="users"?"Customer Account":"Owner Account"),1),c.value==="users"?(n(),l("div",K,[t("table",Q,[s[14]||(s[14]=t("thead",null,[t("tr",{class:"bg-gray-100 text-left text-[#182235]"},[t("th",{class:"py-2 px-3"},"ID"),t("th",{class:"py-2 px-3"},"Picture"),t("th",{class:"py-2 px-3"},"Name"),t("th",{class:"py-2 px-3"},"Email"),t("th",{class:"py-2 px-3"},"Customer Status"),t("th",{class:"py-2 px-3"},"Status"),t("th",{class:"py-2 px-3"},"Created"),t("th",{class:"py-2 px-3"},"Updated"),t("th",{class:"py-2 px-3"},"Actions")])],-1)),t("tbody",null,[(n(!0),l(d,null,_(a.users,e=>(n(),l("tr",{key:e.id,class:"hover:bg-gray-50 border-t text-[#182235] transition"},[t("td",X,o(e.id),1),t("td",Z,[e.picture_id?(n(),l("img",{key:0,src:e.picture_id,alt:"User Picture",class:"w-10 h-10 object-cover rounded-full border cursor-pointer hover:opacity-80 transition",onClick:i=>v(e.picture_id)},null,8,tt)):(n(),l("span",et,"No picture"))]),t("td",st,o(e.name),1),t("td",ot,o(e.email),1),t("td",lt,o(e.customer_status||"Pending"),1),t("td",nt,o(e.status||"Not verified"),1),t("td",at,o(e.created_at),1),t("td",it,o(e.updated_at),1),t("td",rt,[t("div",dt,[e.customer_status==="Approved"?(n(),l("button",{key:0,onClick:i=>N(e.id),class:"min-w-[70px] px-3 py-1 sm:px-4 sm:py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold text-xs sm:text-sm transition"}," Delete ",8,ct)):(n(),l(d,{key:1},[t("button",{onClick:i=>I(e.id),class:"min-w-[70px] px-3 py-1 sm:px-4 sm:py-2 rounded-lg font-semibold text-xs sm:text-sm transition text-white bg-green-600 hover:bg-green-700"}," Approve ",8,ut),t("button",{onClick:i=>N(e.id),class:"min-w-[70px] px-3 py-1 sm:px-4 sm:py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold text-xs sm:text-sm transition"}," Decline ",8,pt)],64))])])]))),128))])])])):p("",!0),c.value==="owners"?(n(),l("div",xt,[t("table",mt,[t("thead",bt,[t("tr",null,[(n(),l(d,null,_(["ID","Name","Email","Verified At","Password","District","Address","Photo1","Photo2","Photo3","Status","Token","Created","Updated","Actions"],e=>t("th",{key:e,class:"px-2 sm:px-4 py-2 sm:py-3 font-semibold whitespace-nowrap"},o(e),1)),64))])]),t("tbody",ht,[(n(!0),l(d,null,_(a.owners,e=>(n(),l("tr",{key:e.id,class:"border-t hover:bg-gray-50 transition"},[t("td",gt,o(e.id),1),t("td",vt,o(e.name),1),t("td",yt,o(e.email),1),t("td",ft,o(e.email_verified_at),1),t("td",_t,o(e.password),1),t("td",wt,o(e.district),1),t("td",kt,o(e.address),1),t("td",Ct,[t("img",{src:u(e.photo1),alt:"Photo 1",class:"h-10 w-10 sm:h-16 sm:w-16 object-cover rounded border mx-auto cursor-pointer hover:opacity-80 transition",onClick:i=>v(u(e.photo1))},null,8,Dt)]),t("td",Ft,[t("img",{src:u(e.photo2),alt:"Photo 2",class:"h-10 w-10 sm:h-16 sm:w-16 object-cover rounded border mx-auto cursor-pointer hover:opacity-80 transition",onClick:i=>v(u(e.photo2))},null,8,At)]),t("td",$t,[t("img",{src:u(e.photo3),alt:"Photo 3",class:"h-10 w-10 sm:h-16 sm:w-16 object-cover rounded border mx-auto cursor-pointer hover:opacity-80 transition",onClick:i=>v(u(e.photo3))},null,8,jt)]),t("td",Pt,o(e.status),1),t("td",Wt,o(e.remember_token),1),t("td",Nt,o(e.created_at),1),t("td",St,o(e.updated_at),1),t("td",Vt,[t("div",Mt,[e.status==="Approved"?(n(),l(d,{key:0},[t("button",{onClick:i=>S(e.id),class:"min-w-[70px] px-3 py-1 sm:px-4 sm:py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold text-xs sm:text-sm transition"}," Delete ",8,Tt),t("button",{onClick:i=>W(e),class:"min-w-[70px] px-3 py-1 sm:px-4 sm:py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold text-xs sm:text-sm transition"}," View Feedback ",8,zt)],64)):(n(),l(d,{key:1},[t("button",{onClick:i=>z(e.id),class:"min-w-[70px] px-3 py-1 sm:px-4 sm:py-2 rounded-lg font-semibold text-xs sm:text-sm transition text-white bg-green-600 hover:bg-green-700"}," Approve ",8,Bt),t("button",{onClick:i=>S(e.id),class:"min-w-[70px] px-3 py-1 sm:px-4 sm:py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold text-xs sm:text-sm transition"}," Decline ",8,It),t("button",{onClick:i=>W(e),class:"min-w-[70px] px-3 py-1 sm:px-4 sm:py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold text-xs sm:text-sm transition"}," View Feedback ",8,Ut)],64))])])]))),128))])])])):p("",!0)]),C.value?(n(),l("div",Et,[t("img",{src:j.value,alt:"Preview",class:"max-h-[80vh] rounded-xl shadow-2xl border-4 border-white"},null,8,Ot),t("button",{onClick:s[3]||(s[3]=e=>C.value=!1),class:"absolute top-6 right-8 text-white text-3xl font-bold"}," âœ• ")])):p("",!0),g.value?(n(),l("div",Lt,[t("div",Rt,[s[15]||(s[15]=t("h2",{class:"text-xl font-bold text-[#002B5C] mb-4"},"Delete/Decline a account",-1)),s[16]||(s[16]=t("p",{class:"text-gray-600 mb-3"},"Please write the reason for Delete/Decline this owner:",-1)),M(t("textarea",{"onUpdate:modelValue":s[4]||(s[4]=e=>m.value=e),rows:"4",placeholder:"Type reason here...",class:"w-full border border-gray-300 rounded-lg p-3 text-gray-800 focus:ring-2 focus:ring-[#FF2D2D] focus:outline-none"},null,512),[[T,m.value]]),t("div",Yt,[t("button",{onClick:s[5]||(s[5]=e=>g.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-800 rounded-lg font-semibold hover:bg-gray-400"}," Cancel "),t("button",{onClick:E,class:"px-5 py-2 bg-[#FF2D2D] text-white font-semibold rounded-lg hover:bg-[#E02626] transition"}," Send & Delete ")])])])):p("",!0),D.value?(n(),l("div",qt,[t("div",Gt,[t("h2",Ht," Feedback for "+o(P.value),1),F.value.length?(n(),l("div",Jt,[(n(!0),l(d,null,_(F.value,(e,i)=>{var V;return n(),l("div",{key:i,class:"border border-gray-200 rounded-lg p-3"},[t("div",Kt,[t("span",Qt,o(((V=e.user)==null?void 0:V.name)||"Anonymous"),1),t("span",Xt,"â­ "+o(e.rating)+"/5",1)]),t("p",Zt,o(e.comment),1)])}),128))])):(n(),l("div",te," No feedback yet. ")),t("button",{onClick:s[6]||(s[6]=e=>D.value=!1),class:"absolute top-4 right-5 text-gray-600 hover:text-black text-2xl font-bold"}," âœ• ")])])):p("",!0),y.value?(n(),l("div",ee,[t("div",se,[s[17]||(s[17]=t("h2",{class:"text-xl font-bold text-[#002B5C] mb-4"},"Delete/Decline Account",-1)),s[18]||(s[18]=t("p",{class:"text-gray-600 mb-3"},"Please write the reason for Delete/Decline this customer:",-1)),M(t("textarea",{"onUpdate:modelValue":s[7]||(s[7]=e=>b.value=e),rows:"4",placeholder:"Type reason here...",class:"w-full border border-gray-300 rounded-lg p-3 text-gray-800 focus:ring-2 focus:ring-[#FF2D2D] focus:outline-none"},null,512),[[T,b.value]]),t("div",oe,[t("button",{onClick:s[8]||(s[8]=e=>y.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-800 rounded-lg font-semibold hover:bg-gray-400"}," Cancel "),t("button",{onClick:U,class:"px-5 py-2 bg-[#FF2D2D] text-white font-semibold rounded-lg hover:bg-[#E02626] transition"}," Send & Delete ")])])])):p("",!0)]),t("footer",le,[s[22]||(s[22]=R('<div class="max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 gap-6"><div><h2 class="text-lg font-bold text-white mb-3">About WashWise</h2><p class="text-sm leading-relaxed"> WashWise is your trusted platform for booking car wash services â€” connecting customers and business owners for a smoother, cleaner experience every day. </p></div><div><h2 class="text-lg font-bold text-white mb-3">Contact Us</h2><ul class="text-sm space-y-1"><li>ğŸ“ +63 992 759 4673</li><li>âœ‰ï¸ washwise00@gmail.com</li></ul></div></div>',1)),t("div",ne,[f(" Â© "+o(new Date().getFullYear())+" WashWise. All rights reserved. ",1),s[19]||(s[19]=t("br",{class:"sm:hidden"},null,-1)),s[20]||(s[20]=f(" Developed by ",-1)),s[21]||(s[21]=t("span",{class:"text-[#FF2D2D] font-semibold"},"Washwise Team.",-1))])])],64))}});export{re as default};
