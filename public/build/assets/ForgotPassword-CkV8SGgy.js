import{d as y,r as m,x as c,a as n,o as d,e as t,t as p,f as w,g as u,b as f,v as a,u as o}from"./app-CzDfEWfs.js";const V={class:"flex min-h-screen items-center justify-center bg-gray-100"},P={class:"bg-white p-6 rounded-lg shadow-md w-full max-w-sm"},C={class:"text-xl font-bold mb-4 text-center"},S={key:0,class:"text-green-600 text-sm mt-2 text-center"},k={key:0,class:"text-green-600 text-sm mt-2 text-center"},B=y({__name:"ForgotPassword",props:{type:String},setup(b){const g=b,i=m(1),l=m(""),s=c({email:"",code:"",password:"",password_confirmation:"",type:g.type||"user"}),v=()=>{s.post(route("password.sendCode"),{onSuccess:()=>{l.value="Verification code sent!",i.value=2}})},x=()=>{s.post(route("password.reset"),{onSuccess:()=>{l.value="Password reset successful! Redirecting...",setTimeout(()=>window.location.href=route("login"),2e3)}})};return(q,e)=>(d(),n("div",V,[t("div",P,[t("h2",C,p(i.value===1?"Forgot Password":"Reset Password"),1),i.value===1?(d(),n("form",{key:0,onSubmit:w(v,["prevent"])},[e[4]||(e[4]=t("label",null,"Email",-1)),u(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>o(s).email=r),type:"email",class:"border p-2 w-full rounded mb-3",required:""},null,512),[[a,o(s).email]]),e[5]||(e[5]=t("button",{type:"submit",class:"bg-blue-600 text-white w-full py-2 rounded hover:bg-blue-700"}," Send Verification Code ",-1)),l.value?(d(),n("p",S,p(l.value),1)):f("",!0)],32)):(d(),n("form",{key:1,onSubmit:w(x,["prevent"])},[e[6]||(e[6]=t("label",null,"Verification Code",-1)),u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>o(s).code=r),type:"text",class:"border p-2 w-full rounded mb-3",required:""},null,512),[[a,o(s).code]]),e[7]||(e[7]=t("label",null,"New Password",-1)),u(t("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>o(s).password=r),type:"password",class:"border p-2 w-full rounded mb-3",required:""},null,512),[[a,o(s).password]]),e[8]||(e[8]=t("label",null,"Confirm Password",-1)),u(t("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>o(s).password_confirmation=r),type:"password",class:"border p-2 w-full rounded mb-3",required:""},null,512),[[a,o(s).password_confirmation]]),e[9]||(e[9]=t("button",{type:"submit",class:"bg-green-600 text-white w-full py-2 rounded hover:bg-green-700"}," Reset Password ",-1)),l.value?(d(),n("p",k,p(l.value),1)):f("",!0)],32))])]))}});export{B as default};
