import{d as P,r as w,x as D,a as s,o as r,b as i,e,j as m,t as n,f as $,u as c,k as Q,F as j}from"./app-Djf13ouE.js";import{d as S}from"./index-Bsa0zFOn.js";const B={key:0,class:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50"},R=["src"],W={class:"min-h-screen py-10 px-4 flex justify-center bg-[#F8FAFC]"},N={class:"w-full max-w-xl bg-white rounded-2xl shadow-lg p-6"},z={class:"text-3xl font-extrabold text-center text-[#002B5C] mb-6 tracking-tight"},A={class:"text-[#FF2D2D]"},E={key:0,class:"bg-green-100 text-green-800 p-3 rounded-lg mb-4 text-base font-medium"},T={key:1,class:"bg-red-100 text-red-800 p-3 rounded-lg mb-4 text-base font-medium"},V={key:2,class:"bg-red-100 text-red-800 p-3 rounded-lg mb-4 text-base font-medium"},U={class:"mt-2"},G=["href"],H={key:3,class:"space-y-4 mb-6"},I={class:"mb-6 text-center"},M={class:"overflow-x-auto"},Y={class:"min-w-full border rounded"},J={class:"px-3 py-3 text-center"},K=["src"],L={class:"px-3 py-3 text-center"},O=["src"],X={class:"px-3 py-3 text-center"},Z=["src"],ee={class:"px-3 py-3 text-center"},te=["src"],oe={class:"px-3 py-3 text-center"},se=["src"],re={class:"text-base text-[#182235] font-medium"},ne={class:"text-base text-[#182235] font-medium"},ie={class:"text-base text-[#182235] font-medium"},le={class:"text-base text-[#182235] font-medium"},ae={class:"flex gap-4"},de={class:"text-base text-[#182235] font-medium"},me={class:"text-base text-[#182235] font-medium"},pe={class:"text-base text-[#182235] font-medium"},ce={key:0},be={class:"text-base text-[#182235] font-medium"},ue={key:0,class:"text-red-600 text-sm mt-1"},fe=["disabled"],ge={key:0},xe={key:1},he={class:"bg-[#182235] text-gray-200 text-center sm:text-left py-8 px-6 border-t border-gray-700"},ye={class:"border-t border-gray-700 mt-8 pt-4 text-center text-xs text-gray-400"},_e=P({__name:"PaymentPage",props:{shop:{},booking:{},pageTitle:{},error:{}},setup(C){var f,g,x,h,y,v,k,_;const l=C,b=w(!1),u=w(""),p=o=>{o&&(u.value=o,b.value=!0)},a=D({name:((f=l.booking)==null?void 0:f.name)??"",email:((g=l.booking)==null?void 0:g.email)??"",size_of_the_car:((x=l.booking)==null?void 0:x.size_of_the_car)??"",contact_no:((h=l.booking)==null?void 0:h.contact_no)??"",date_of_booking:((y=l.booking)==null?void 0:y.date_of_booking)??"",time_of_booking:((v=l.booking)==null?void 0:v.time_of_booking)??"",slot_number:((k=l.booking)==null?void 0:k.slot_number)??1,payment_amount:50,payment_proof:null,services_offered:((_=l.booking)==null?void 0:_.services_offered)??""}),F=o=>{var d;const t=o.target;(d=t==null?void 0:t.files)!=null&&d[0]&&(a.payment_proof=t.files[0])},q=()=>{if(!a.payment_proof){a.errors.payment_proof="Please upload payment proof (screenshot).";return}a.post(`/customer/book/${l.shop.id}/confirm`,{forceFormData:!0,onSuccess:()=>S.Inertia.visit("/settings/appearance"),onError:o=>console.error("Payment submission error:",o)})};return(o,t)=>(r(),s(j,null,[b.value?(r(),s("div",B,[e("img",{src:u.value,alt:"QR Code Preview",class:"max-h-[80vh] rounded-xl shadow-2xl border-4 border-white"},null,8,R),e("button",{onClick:t[0]||(t[0]=d=>b.value=!1),class:"absolute top-6 right-8 text-white text-3xl font-bold"}," ‚úï ")])):i("",!0),e("div",W,[e("div",N,[e("h1",z,[t[6]||(t[6]=m(" Confirm & Pay for ",-1)),e("span",A,n(o.shop.name),1)]),o.$page.props.flash.success?(r(),s("div",E,n(o.$page.props.flash.success),1)):i("",!0),o.$page.props.flash.error?(r(),s("div",T,n(o.$page.props.flash.error),1)):i("",!0),o.error||!o.booking?(r(),s("div",V,[m(n(o.error||"Please submit booking details to proceed with payment.")+" ",1),e("div",U,[e("a",{href:`/shop/${o.shop.id}/book`,class:"text-[#002B5C] underline font-semibold"},"Go to Booking Form",8,G)])])):i("",!0),o.booking?(r(),s("div",H,[e("div",I,[t[8]||(t[8]=e("h2",{class:"text-base font-bold text-[#182235] mb-2"},[m(" Scan to Pay "),e("span",{class:"font-normal text-gray-500"},"(QR Codes)")],-1)),e("div",M,[e("table",Y,[t[7]||(t[7]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-3 py-2 text-center"},"QR Code 1"),e("th",{class:"px-3 py-2 text-center"},"QR Code 2"),e("th",{class:"px-3 py-2 text-center"},"QR Code 3"),e("th",{class:"px-3 py-2 text-center"},"QR Code 4"),e("th",{class:"px-3 py-2 text-center"},"QR Code 5")])],-1)),e("tbody",null,[e("tr",null,[e("td",J,[o.shop.qr_code?(r(),s("img",{key:0,src:o.shop.qr_code,class:"h-12 w-12 object-cover rounded border mx-auto cursor-pointer hover:scale-105 transition",onClick:t[1]||(t[1]=d=>p(o.shop.qr_code))},null,8,K)):i("",!0)]),e("td",L,[o.shop.qr_code2?(r(),s("img",{key:0,src:o.shop.qr_code2,class:"h-12 w-12 object-cover rounded border mx-auto cursor-pointer hover:scale-105 transition",onClick:t[2]||(t[2]=d=>p(o.shop.qr_code2))},null,8,O)):i("",!0)]),e("td",X,[o.shop.qr_code3?(r(),s("img",{key:0,src:o.shop.qr_code3,class:"h-12 w-12 object-cover rounded border mx-auto cursor-pointer hover:scale-105 transition",onClick:t[3]||(t[3]=d=>p(o.shop.qr_code3))},null,8,Z)):i("",!0)]),e("td",ee,[o.shop.qr_code4?(r(),s("img",{key:0,src:o.shop.qr_code4,class:"h-12 w-12 object-cover rounded border mx-auto cursor-pointer hover:scale-105 transition",onClick:t[4]||(t[4]=d=>p(o.shop.qr_code4))},null,8,te)):i("",!0)]),e("td",oe,[o.shop.qr_code5?(r(),s("img",{key:0,src:o.shop.qr_code5,class:"h-12 w-12 object-cover rounded border mx-auto cursor-pointer hover:scale-105 transition",onClick:t[5]||(t[5]=d=>p(o.shop.qr_code5))},null,8,se)):i("",!0)])])])])]),t[9]||(t[9]=e("p",{class:"text-sm text-gray-500 mt-2"},"Click a QR code to preview.",-1))]),e("div",null,[t[10]||(t[10]=e("h3",{class:"text-sm font-semibold text-gray-700"},"Name:",-1)),e("p",re,n(o.booking.name),1)]),e("div",null,[t[11]||(t[11]=e("h3",{class:"text-sm font-semibold text-gray-700"},"Email:",-1)),e("p",ne,n(o.booking.email),1)]),e("div",null,[t[12]||(t[12]=e("h3",{class:"text-sm font-semibold text-gray-700"},"Size:",-1)),e("p",ie,n(o.booking.size_of_the_car),1)]),e("div",null,[t[13]||(t[13]=e("h3",{class:"text-sm font-semibold text-gray-700"},"Contact:",-1)),e("p",le,n(o.booking.contact_no),1)]),e("div",ae,[e("div",null,[t[14]||(t[14]=e("h3",{class:"text-sm font-semibold text-gray-700"},"Date:",-1)),e("p",de,n(o.booking.date_of_booking),1)]),e("div",null,[t[15]||(t[15]=e("h3",{class:"text-sm font-semibold text-gray-700"},"Time:",-1)),e("p",me,n(o.booking.time_of_booking),1)])]),e("div",null,[t[16]||(t[16]=e("h3",{class:"text-sm font-semibold text-gray-700"},"Slot Number:",-1)),e("p",pe,n(o.booking.slot_number),1)]),o.booking.services_offered?(r(),s("div",ce,[t[17]||(t[17]=e("h3",{class:"text-sm font-semibold text-gray-700"},"Service offered:",-1)),e("p",be,n(o.booking.services_offered),1)])):i("",!0),t[18]||(t[18]=e("div",null,[e("h3",{class:"text-sm font-semibold text-gray-700"},"Payment Amount:"),e("p",{class:"text-base text-[#FF2D2D] font-bold"},"PHP 50.00")],-1))])):i("",!0),o.booking?(r(),s("form",{key:4,onSubmit:$(q,["prevent"]),class:"space-y-4",enctype:"multipart/form-data"},[e("div",null,[t[19]||(t[19]=e("label",{class:"block text-base font-bold text-[#182235] mb-2"},[m(" Upload Payment Proof: "),e("span",{class:"font-normal text-gray-500"},"(screenshot of receipt)")],-1)),e("input",{onChange:F,type:"file",accept:"image/jpeg,image/png",class:"w-full mt-1 p-2 border-2 border-[#182235] bg-[#F8FAFC] text-[#182235] rounded-lg font-semibold cursor-pointer",required:""},null,32),c(a).errors.payment_proof?(r(),s("div",ue,n(c(a).errors.payment_proof),1)):i("",!0)]),e("button",{type:"submit",class:"w-full bg-[#FF2D2D] text-white py-2 rounded-lg font-bold text-lg hover:opacity-90 transition disabled:opacity-50",disabled:c(a).processing},[c(a).processing?(r(),s("span",ge,"Booking...")):(r(),s("span",xe,"Confirm Booking"))],8,fe)],32)):i("",!0)])]),e("footer",he,[t[23]||(t[23]=Q('<div class="max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-3 gap-6"><div><h2 class="text-lg font-bold text-white mb-3">About WashWise</h2><p class="text-sm leading-relaxed"> WashWise is your trusted platform for booking car wash services ‚Äî connecting customers and business owners for a smoother, cleaner experience every day. </p></div><div><h2 class="text-lg font-bold text-white mb-3">Contact Us</h2><ul class="text-sm space-y-1"><li>üìû +63 992 759 4673</li><li>‚úâÔ∏è washwise00@gmail.com</li></ul></div></div>',1)),e("div",ye,[m(" ¬© "+n(new Date().getFullYear())+" WashWise. All rights reserved. ",1),t[20]||(t[20]=e("br",{class:"sm:hidden"},null,-1)),t[21]||(t[21]=m(" Developed by ",-1)),t[22]||(t[22]=e("span",{class:"text-[#FF2D2D] font-semibold"},"Washwise Team.",-1))])])],64))}});export{_e as default};
