import{d as B,r as u,k as N,a as n,o as a,b as A,f as t,u as F,i as M,g,n as x,p as S,e as T,v as _,F as b,q as V,W as m,y as W,t as r}from"./index.esm-CCql3qLv.js";const E={class:"min-h-screen bg-gradient-to-br from-gray-100 via-white to-gray-100 py-6 px-4 flex flex-col items-center"},I={class:"w-full max-w-7xl p-6 sm:p-10"},P={class:"mb-8 p-6 bg-white shadow-lg rounded-2xl grid grid-cols-1 sm:grid-cols-3 gap-4 border border-gray-200"},$={key:0},j={key:1},z={key:0,class:"text-gray-500 text-lg text-center py-12"},R={key:1,class:"overflow-x-auto"},U={class:"w-full border border-gray-200 rounded-xl overflow-hidden shadow-sm"},L={class:"text-[#182235] font-medium"},O={class:"px-4 py-3"},Y={class:"px-4 py-3"},q={class:"px-4 py-3"},H={key:0,class:"text-green-600 font-semibold"},G={key:1,class:"text-red-600 font-semibold"},J={key:2,class:"text-gray-600 font-semibold"},K={class:"px-4 py-3 text-center"},Q={class:"px-4 py-3"},X={class:"px-4 py-3"},Z={class:"px-4 py-3"},tt={class:"px-4 py-3"},et={class:"px-4 py-3"},ot={class:"px-4 py-3"},st={class:"px-4 py-3 text-center"},nt=["src"],at={key:1,class:"text-gray-400 italic"},lt={class:"px-4 py-3 text-center font-bold text-[#FF2D2D]"},rt={class:"px-4 py-3 text-center flex justify-center gap-3"},it=["onClick"],dt=["onClick"],pt=B({__name:"OwnerAppointments",props:{appointments:{}},setup(h){const v=h;function w(l){m.post(`/owner/appointments/${l}/approve`)}function D(l){m.post(`/owner/appointments/${l}/decline`)}function k(l){const o=l.target;o.outerHTML='<span class="text-gray-600">No proof</span>'}const i=u("all"),c=u(""),p=u(""),f=N(()=>{let l=[...v.appointments];const o=new Date;let e=null,s=null;if(i.value==="today")e=new Date(o.toDateString()),s=new Date(e),s.setDate(s.getDate()+1);else if(i.value==="week"){const d=o.getDate()-o.getDay();e=new Date(o.setDate(d)),s=new Date(o.setDate(d+7))}else i.value==="month"?(e=new Date(o.getFullYear(),o.getMonth(),1),s=new Date(o.getFullYear(),o.getMonth()+1,1)):i.value==="custom"&&c.value&&p.value&&(e=new Date(c.value),s=new Date(p.value),s.setDate(s.getDate()+1));return e&&s&&(l=l.filter(d=>{const y=new Date(d.date_of_booking);return y>=e&&y<s})),l});function C(){m.visit("/owner/dashboard")}return(l,o)=>(a(),n(b,null,[A(F(M),{title:"Owner Appointments"}),t("div",E,[t("div",I,[o[8]||(o[8]=t("div",{class:"text-center mb-8"},[t("h1",{class:"text-3xl sm:text-4xl font-extrabold text-[#002B5C] mb-2"}," Customer Appointments "),t("p",{class:"text-gray-500"},"Manage and monitor all customer bookings efficiently")],-1)),t("div",{class:"mb-6 flex justify-start"},[t("button",{onClick:C,class:"px-6 py-3 bg-[#002B5C] text-white font-semibold rounded-xl shadow-md hover:bg-[#FF2D2D] transition transform hover:-translate-y-0.5"}," â† Return to Dashboard ")]),t("div",P,[t("div",null,[o[4]||(o[4]=t("label",{class:"block text-sm font-semibold text-gray-600 mb-1"},"Date Range",-1)),x(t("select",{"onUpdate:modelValue":o[0]||(o[0]=e=>i.value=e),class:"w-full px-4 py-3 font-semibold text-[#182235] border rounded-lg focus:ring-2 focus:ring-[#002B5C] focus:outline-none"},[...o[3]||(o[3]=[T('<option value="all">All</option><option value="today">Today</option><option value="week">This Week</option><option value="month">This Month</option><option value="custom">Custom</option>',5)])],512),[[S,i.value]])]),i.value==="custom"?(a(),n("div",$,[o[5]||(o[5]=t("label",{class:"block text-sm font-semibold text-gray-600 mb-1"},"From",-1)),x(t("input",{type:"date","onUpdate:modelValue":o[1]||(o[1]=e=>c.value=e),class:"w-full px-4 py-3 font-semibold text-[#182235] border rounded-lg focus:ring-2 focus:ring-[#002B5C] focus:outline-none"},null,512),[[_,c.value]])])):g("",!0),i.value==="custom"?(a(),n("div",j,[o[6]||(o[6]=t("label",{class:"block text-sm font-semibold text-gray-600 mb-1"},"To",-1)),x(t("input",{type:"date","onUpdate:modelValue":o[2]||(o[2]=e=>p.value=e),class:"w-full px-4 py-3 font-semibold text-[#182235] border rounded-lg focus:ring-2 focus:ring-[#002B5C] focus:outline-none"},null,512),[[_,p.value]])])):g("",!0)]),f.value.length===0?(a(),n("div",z," No appointments found. ")):(a(),n("div",R,[t("table",U,[o[7]||(o[7]=t("thead",{class:"bg-gradient-to-r from-[#002B5C] to-[#00509E] text-white"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left"},"Date"),t("th",{class:"px-4 py-3 text-left"},"Time"),t("th",{class:"px-4 py-3 text-left"},"Status"),t("th",{class:"px-4 py-3 text-center"},"ID"),t("th",{class:"px-4 py-3 text-left"},"Name"),t("th",{class:"px-4 py-3 text-left"},"Email"),t("th",{class:"px-4 py-3 text-left"},"Car Size"),t("th",{class:"px-4 py-3 text-left"},"Contact"),t("th",{class:"px-4 py-3 text-left"},"Slot"),t("th",{class:"px-4 py-3 text-left"},"Created"),t("th",{class:"px-4 py-3 text-center"},"Payment Proof"),t("th",{class:"px-4 py-3 text-center"},"Amount"),t("th",{class:"px-4 py-3 text-center"},"Actions")])],-1)),t("tbody",L,[(a(!0),n(b,null,V(f.value,(e,s)=>(a(),n("tr",{key:e.id,class:W(s%2===0?"bg-white hover:bg-gray-50":"bg-gray-50 hover:bg-gray-100 transition")},[t("td",O,r(e.date_of_booking),1),t("td",Y,r(e.time_of_booking),1),t("td",q,[e.status==="approved"?(a(),n("span",H,"Approved")):e.status==="declined"?(a(),n("span",G,"Declined")):(a(),n("span",J,"Pending"))]),t("td",K,r(e.id),1),t("td",Q,r(e.name),1),t("td",X,r(e.email||"Walk_IN"),1),t("td",Z,r(e.size_of_the_car),1),t("td",tt,r(e.contact_no),1),t("td",et,r(e.slot_number),1),t("td",ot,r(e.created_at),1),t("td",st,[e.payment_proof?(a(),n("img",{key:0,src:e.payment_proof,alt:"Payment Proof",class:"h-16 w-16 object-cover rounded border mx-auto",onError:k},null,40,nt)):(a(),n("span",at,"Walk_IN"))]),t("td",lt,r(e.payment_amount??"Walk_IN"),1),t("td",rt,[t("button",{onClick:d=>w(e.id),class:"px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 shadow-md transition transform hover:-translate-y-0.5"}," Approve ",8,it),t("button",{onClick:d=>D(e.id),class:"px-4 py-2 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 shadow-md transition transform hover:-translate-y-0.5"}," Decline ",8,dt)])],2))),128))])])]))])])],64))}});export{pt as default};
