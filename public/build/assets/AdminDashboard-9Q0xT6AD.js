import{d as L,r as i,c as n,o as a,a as t,e as u,n as A,j as N,f as U,t as o,F as h,i as f,g as S,v as M,W as b,A as y}from"./app-CPvVwbmX.js";const R={class:"min-h-screen flex flex-col sm:flex-row bg-gray-50"},q={class:"sm:hidden flex justify-between items-center bg-white shadow px-4 py-3"},G={class:"flex flex-col gap-2"},H={class:"flex-1 p-4 sm:p-8 mt-14 sm:mt-0"},J={class:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6 text-[#182235]"},K={key:0,class:"overflow-x-auto bg-white rounded-xl shadow border border-gray-200"},Q={class:"min-w-full text-sm sm:text-base"},X={class:"py-2 px-3"},Y={class:"py-2 px-3"},Z={class:"py-2 px-3"},tt={class:"py-2 px-3"},et={class:"py-2 px-3"},st={class:"py-2 px-3"},ot={class:"py-2 px-3"},lt={class:"py-2 px-3"},nt={class:"flex flex-wrap gap-2 justify-center"},at=["onClick","disabled"],it=["onClick"],rt={key:1,class:"overflow-x-auto bg-white rounded-xl shadow border border-gray-200"},dt={class:"min-w-[1000px] w-full text-xs sm:text-sm"},ct={class:"bg-gray-100 text-[#182235]"},ut={class:"text-[#182235]"},pt={class:"px-2 py-2 text-center"},xt={class:"px-2 py-2"},mt={class:"px-2 py-2"},bt={class:"px-2 py-2"},vt={class:"px-2 py-2"},gt={class:"px-2 py-2"},ht={class:"px-2 py-2"},ft={class:"px-2 py-2 text-center"},yt=["src","onClick"],_t={class:"px-2 py-2 text-center"},wt=["src","onClick"],kt={class:"px-2 py-2 text-center"},Ct=["src","onClick"],Dt={class:"px-2 py-2 text-center"},Ft={class:"px-2 py-2 text-center truncate max-w-[80px]"},At={class:"px-2 py-2 text-center"},$t={class:"px-2 py-2 text-center"},jt={class:"px-2 py-2 text-center"},Pt={class:"flex flex-wrap gap-2 justify-center"},Nt=["onClick","disabled"],St=["onClick"],Mt=["onClick"],Wt={key:0,class:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50"},zt=["src"],Bt={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 px-4"},It={class:"bg-white w-full max-w-md rounded-2xl shadow-xl p-6 relative"},Ot={class:"mt-6 flex justify-end gap-3"},Tt={key:2,class:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 px-4"},Vt={class:"bg-white w-full max-w-2xl rounded-2xl shadow-xl p-6 relative"},Et={class:"text-xl font-bold text-[#002B5C] mb-4"},Lt={key:0,class:"space-y-3 max-h-[60vh] overflow-y-auto"},Ut={class:"flex justify-between items-center"},Rt={class:"font-semibold text-[#182235]"},qt={class:"text-yellow-500"},Gt={class:"text-gray-700 mt-1"},Ht={key:1,class:"text-gray-500 text-center py-4"},Jt={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 px-4"},Kt={class:"bg-white w-full max-w-md rounded-2xl shadow-xl p-6 relative"},Qt={class:"mt-6 flex justify-end gap-3"},Zt=L({__name:"AdminDashboard",props:{owners:{},users:{}},setup(Xt){function c(l){return l?l.startsWith("http://")||l.startsWith("https://")?l:`/storage/${l}`:"https://placehold.co/100x100?text=No+Photo"}const d=i("users"),p=i(!1),v=i(!1),x=i(""),_=i(null),W=l=>{confirm("Are you sure you want to approve this owner?")&&b.post(y("owners.approve",{id:l}))},z=l=>{_.value=l,v.value=!0},B=()=>{if(!_.value||!x.value.trim()){alert("Please enter a reason before declining.");return}b.post(y("owners.decline",{id:_.value}),{reason:x.value}),v.value=!1,x.value=""},I=()=>{b.post("/logout")},w=i(!1),$=i("");function k(l){$.value=l,w.value=!0}const C=i(!1),D=i([]),j=i("");function O(l){var s;j.value=l.name,D.value=((s=l.shop)==null?void 0:s.feedback)||[],C.value=!0}const g=i(!1),m=i(""),F=i(null),T=l=>{confirm("Are you sure you want to approve this customer?")&&b.post(y("customers.approve",{id:l}))},V=l=>{F.value=l,g.value=!0},E=()=>{if(!F.value||!m.value.trim()){alert("Please enter a reason before declining.");return}b.post(y("customers.decline",{id:F.value}),{reason:m.value}),g.value=!1,m.value=""};return(l,s)=>(a(),n("div",R,[t("div",q,[s[9]||(s[9]=t("div",{class:"flex items-center gap-2"},[t("img",{src:"/images/washwiselogo2.png",alt:"Logo",class:"h-8 w-auto"}),t("h1",{class:"font-bold text-[#182235]"},"WashWise Admin")],-1)),t("button",{onClick:s[0]||(s[0]=e=>p.value=!p.value),class:"text-[#182235] text-xl"},"☰")]),t("aside",{class:A(["bg-white shadow-lg flex flex-col py-6 px-4 w-64 fixed sm:static inset-y-0 left-0 z-30 transform transition-transform duration-300",p.value?"translate-x-0":"-translate-x-full sm:translate-x-0"])},[s[13]||(s[13]=t("div",{class:"flex flex-col items-center mb-10"},[t("img",{src:"/images/washwiselogo2.png",alt:"WashWise Logo",class:"h-14 w-auto mb-2",draggable:"false"}),t("span",{class:"text-xl font-bold text-[#182235]"},"Admin")],-1)),t("nav",G,[t("button",{class:A(["flex items-center gap-3 px-4 py-2 rounded-lg font-semibold transition",d.value==="users"?"bg-[#FF2D2D] text-white":"text-[#182235] hover:bg-[#f8fafc]"]),onClick:s[1]||(s[1]=e=>{d.value="users",p.value=!1})},[...s[10]||(s[10]=[t("span",null,"👤",-1),N(" Customer Account ",-1)])],2),t("button",{class:A(["flex items-center gap-3 px-4 py-2 rounded-lg font-semibold transition",d.value==="owners"?"bg-[#FF2D2D] text-white":"text-[#182235] hover:bg-[#f8fafc]"]),onClick:s[2]||(s[2]=e=>{d.value="owners",p.value=!1})},[...s[11]||(s[11]=[t("span",null,"🏢",-1),N(" Owners Account ",-1)])],2)]),t("form",{onSubmit:U(I,["prevent"]),class:"mt-auto pt-10"},[...s[12]||(s[12]=[t("button",{class:"w-full bg-[#FF2D2D] hover:bg-[#d72626] text-white px-4 py-2 rounded-lg font-semibold shadow transition"}," Logout ",-1)])],32)],2),t("main",H,[t("h1",J,o(d.value==="users"?"Customer Account":"Owner Account"),1),d.value==="users"?(a(),n("div",K,[t("table",Q,[s[14]||(s[14]=t("thead",null,[t("tr",{class:"bg-gray-100 text-left text-[#182235]"},[t("th",{class:"py-2 px-3"},"ID"),t("th",{class:"py-2 px-3"},"Name"),t("th",{class:"py-2 px-3"},"Email"),t("th",{class:"py-2 px-3"},"Customer Status"),t("th",{class:"py-2 px-3"},"Status"),t("th",{class:"py-2 px-3"},"Created"),t("th",{class:"py-2 px-3"},"Updated"),t("th",{class:"py-2 px-3"},"Actions")])],-1)),t("tbody",null,[(a(!0),n(h,null,f(l.users,e=>(a(),n("tr",{key:e.id,class:"hover:bg-gray-50 border-t text-[#182235] transition"},[t("td",X,o(e.id),1),t("td",Y,o(e.name),1),t("td",Z,o(e.email),1),t("td",tt,o(e.customer_status||"Pending"),1),t("td",et,o(e.status||"Not verified"),1),t("td",st,o(e.created_at),1),t("td",ot,o(e.updated_at),1),t("td",lt,[t("div",nt,[t("button",{onClick:r=>T(e.id),disabled:e.customer_status==="approved",class:"min-w-[70px] px-3 py-1 sm:px-4 sm:py-2 rounded-lg font-semibold text-xs sm:text-sm transition text-white bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed"},o(e.customer_status==="approved"?"Approved":"Approve"),9,at),t("button",{onClick:r=>V(e.id),class:"min-w-[70px] px-3 py-1 sm:px-4 sm:py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold text-xs sm:text-sm transition"}," Decline ",8,it)])])]))),128))])])])):u("",!0),d.value==="owners"?(a(),n("div",rt,[t("table",dt,[t("thead",ct,[t("tr",null,[(a(),n(h,null,f(["ID","Name","Email","Verified At","Password","District","Address","Photo1","Photo2","Photo3","Status","Token","Created","Updated","Actions"],e=>t("th",{key:e,class:"px-2 sm:px-4 py-2 sm:py-3 font-semibold whitespace-nowrap"},o(e),1)),64))])]),t("tbody",ut,[(a(!0),n(h,null,f(l.owners,e=>(a(),n("tr",{key:e.id,class:"border-t hover:bg-gray-50 transition"},[t("td",pt,o(e.id),1),t("td",xt,o(e.name),1),t("td",mt,o(e.email),1),t("td",bt,o(e.email_verified_at),1),t("td",vt,o(e.password),1),t("td",gt,o(e.district),1),t("td",ht,o(e.address),1),t("td",ft,[t("img",{src:c(e.photo1),alt:"Photo 1",class:"h-10 w-10 sm:h-16 sm:w-16 object-cover rounded border mx-auto cursor-pointer hover:opacity-80 transition",onClick:r=>k(c(e.photo1))},null,8,yt)]),t("td",_t,[t("img",{src:c(e.photo2),alt:"Photo 2",class:"h-10 w-10 sm:h-16 sm:w-16 object-cover rounded border mx-auto cursor-pointer hover:opacity-80 transition",onClick:r=>k(c(e.photo2))},null,8,wt)]),t("td",kt,[t("img",{src:c(e.photo3),alt:"Photo 3",class:"h-10 w-10 sm:h-16 sm:w-16 object-cover rounded border mx-auto cursor-pointer hover:opacity-80 transition",onClick:r=>k(c(e.photo3))},null,8,Ct)]),t("td",Dt,o(e.status),1),t("td",Ft,o(e.remember_token),1),t("td",At,o(e.created_at),1),t("td",$t,o(e.updated_at),1),t("td",jt,[t("div",Pt,[t("button",{onClick:r=>W(e.id),disabled:e.status==="approved",class:"min-w-[70px] px-3 py-1 sm:px-4 sm:py-2 rounded-lg font-semibold text-xs sm:text-sm transition text-white bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed"},o(e.status==="approved"?"Approved":"Approve"),9,Nt),t("button",{onClick:r=>z(e.id),class:"min-w-[70px] px-3 py-1 sm:px-4 sm:py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold text-xs sm:text-sm transition"}," Decline ",8,St),t("button",{onClick:r=>O(e),class:"min-w-[70px] px-3 py-1 sm:px-4 sm:py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold text-xs sm:text-sm transition"}," Feedback ",8,Mt)])])]))),128))])])])):u("",!0)]),w.value?(a(),n("div",Wt,[t("img",{src:$.value,alt:"Preview",class:"max-h-[80vh] rounded-xl shadow-2xl border-4 border-white"},null,8,zt),t("button",{onClick:s[3]||(s[3]=e=>w.value=!1),class:"absolute top-6 right-8 text-white text-3xl font-bold"}," ✕ ")])):u("",!0),v.value?(a(),n("div",Bt,[t("div",It,[s[15]||(s[15]=t("h2",{class:"text-xl font-bold text-[#002B5C] mb-4"},"Decline Owner Request",-1)),s[16]||(s[16]=t("p",{class:"text-gray-600 mb-3"},"Please write the reason for declining this owner:",-1)),S(t("textarea",{"onUpdate:modelValue":s[4]||(s[4]=e=>x.value=e),rows:"4",placeholder:"Type reason here...",class:"w-full border border-gray-300 rounded-lg p-3 text-gray-800 focus:ring-2 focus:ring-[#FF2D2D] focus:outline-none"},null,512),[[M,x.value]]),t("div",Ot,[t("button",{onClick:s[5]||(s[5]=e=>v.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-800 rounded-lg font-semibold hover:bg-gray-400"}," Cancel "),t("button",{onClick:B,class:"px-5 py-2 bg-[#FF2D2D] text-white font-semibold rounded-lg hover:bg-[#E02626] transition"}," Send & Decline ")])])])):u("",!0),C.value?(a(),n("div",Tt,[t("div",Vt,[t("h2",Et," Feedback for "+o(j.value),1),D.value.length?(a(),n("div",Lt,[(a(!0),n(h,null,f(D.value,(e,r)=>{var P;return a(),n("div",{key:r,class:"border border-gray-200 rounded-lg p-3"},[t("div",Ut,[t("span",Rt,o(((P=e.user)==null?void 0:P.name)||"Anonymous"),1),t("span",qt,"⭐ "+o(e.rating)+"/5",1)]),t("p",Gt,o(e.comment),1)])}),128))])):(a(),n("div",Ht," No feedback yet. ")),t("button",{onClick:s[6]||(s[6]=e=>C.value=!1),class:"absolute top-4 right-5 text-gray-600 hover:text-black text-2xl font-bold"}," ✕ ")])])):u("",!0),g.value?(a(),n("div",Jt,[t("div",Kt,[s[17]||(s[17]=t("h2",{class:"text-xl font-bold text-[#002B5C] mb-4"},"Decline Customer Account",-1)),s[18]||(s[18]=t("p",{class:"text-gray-600 mb-3"},"Please write the reason for declining this customer:",-1)),S(t("textarea",{"onUpdate:modelValue":s[7]||(s[7]=e=>m.value=e),rows:"4",placeholder:"Type reason here...",class:"w-full border border-gray-300 rounded-lg p-3 text-gray-800 focus:ring-2 focus:ring-[#FF2D2D] focus:outline-none"},null,512),[[M,m.value]]),t("div",Qt,[t("button",{onClick:s[8]||(s[8]=e=>g.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-800 rounded-lg font-semibold hover:bg-gray-400"}," Cancel "),t("button",{onClick:E,class:"px-5 py-2 bg-[#FF2D2D] text-white font-semibold rounded-lg hover:bg-[#E02626] transition"}," Send & Decline ")])])])):u("",!0)]))}});export{Zt as default};
