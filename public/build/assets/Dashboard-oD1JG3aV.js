import{d as j,r as f,b as N,c as l,o as r,l as $,a as t,e as w,u as m,m as E,t as i,n as h,f as b,g as L,h as z,F as x,i as k}from"./app-DMYBr9az.js";import{d as n}from"./index-B5lC8mH4.js";const M={class:"w-full bg-white flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 py-3 border-b border-gray-200 shadow-sm gap-2 sticky top-0 z-40"},O={class:"text-center"},V={class:"text-lg font-semibold text-gray-800"},A={class:"flex min-h-screen"},P={class:"space-y-3 p-4"},R={class:"flex-1 p-4 sm:p-8 bg-gradient-to-br from-white via-blue-50 to-[#002B5C]"},W={class:"mt-4 sm:mt-6"},G={class:"relative"},H=["value"],T={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-6"},U=["src"],q={class:"text-lg font-semibold text-gray-800"},J={class:"text-sm text-gray-500 mb-2"},K=["onClick"],Q={key:1,disabled:"",class:"w-full sm:w-auto px-5 py-2 rounded-full bg-gray-400 text-white font-medium shadow cursor-not-allowed"},X=["href"],Y={key:1,class:"text-gray-500 text-center mt-6 sm:mt-10"},Z={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 px-4"},ot=j({__name:"Dashboard",props:{shops:{},districts:{},auth:{}},setup(C){const d=f(!1);function p(){d.value=!d.value}const a=C,u=f("all"),D=()=>{n.Inertia.post("/logout",{},{onSuccess:()=>n.Inertia.get("/login"),onError:o=>{console.error("Logout error:",o),alert("Failed to log out.")}})},c=f(!1),g=f(null),B=o=>{if(o.status==="closed"){alert("üö´ Sorry, this shop is currently closed.");return}if(!a.auth.user){n.Inertia.get("/login");return}g.value=o,c.value=!0},F=()=>{g.value&&(n.Inertia.get(`/customer/book/${g.value.id}`),c.value=!1)},_=()=>{c.value=!1,g.value=null},v=N(()=>u.value==="all"?a.shops:a.shops.filter(o=>o.district==u.value));function I(o){return o.logo?o.logo.startsWith("http")?o.logo:`/storage/${o.logo}`:"/images/default-carwash.png"}function S(o){const e=o.target;e&&(e.src="/logos/default-carwash.png")}return(o,e)=>{var y;return r(),l(x,null,[$(m(E),{title:"Customer Dashboard"}),t("div",M,[t("div",{class:"flex items-center gap-4"},[t("button",{onClick:p,class:"flex flex-col justify-between w-6 h-5 focus:outline-none hover:opacity-80 transition"},[...e[4]||(e[4]=[t("span",{class:"block h-0.5 bg-gray-800 rounded"},null,-1),t("span",{class:"block h-0.5 bg-gray-800 rounded"},null,-1),t("span",{class:"block h-0.5 bg-gray-800 rounded"},null,-1)])]),e[5]||(e[5]=t("img",{src:"/logos/default-carwash.png",alt:"App Logo",class:"h-8 w-8 object-contain"},null,-1))]),t("div",O,[t("h2",V,i(((y=a.auth.user)==null?void 0:y.name)||"Guest"),1)])]),t("div",A,[d.value?(r(),l("div",{key:0,onClick:p,class:"fixed inset-0 bg-black bg-opacity-40 z-40 sm:hidden"})):w("",!0),t("aside",{class:h(["fixed top-0 left-0 h-full w-64 bg-gradient-to-b from-[#182235] to-[#0f172a] text-white shadow-lg z-50 transform transition-transform duration-300",d.value?"translate-x-0":"-translate-x-full"])},[t("div",{class:"flex justify-between items-center p-4 border-b border-gray-700"},[e[6]||(e[6]=t("h2",{class:"text-lg font-bold"},"Menu",-1)),t("button",{onClick:p,class:"text-gray-400 hover:text-red-500 text-2xl"},"√ó")]),t("nav",P,[t("button",{onClick:e[0]||(e[0]=b(s=>m(n.Inertia).get("/settings/profile"),["prevent"])),class:"w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 transition text-white-900 font-bold"},"‚öôÔ∏è Edit Profile"),t("button",{onClick:e[1]||(e[1]=b(s=>m(n.Inertia).get("/settings/password"),["prevent"])),class:"w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 transition text-white-900 font-bold"},"üîí Password"),t("button",{onClick:e[2]||(e[2]=b(s=>m(n.Inertia).get("/settings/appearance"),["prevent"])),class:"w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 transition text-white-900 font-bold"},"üí≥ Transaction History"),t("button",{onClick:D,class:"w-full text-left px-3 py-2 rounded-lg text-red-600 hover:bg-red-50 transition font-bold"},"üö™ Log Out")])],2),t("main",R,[e[10]||(e[10]=t("h1",{class:"text-2xl sm:text-3xl font-extrabold text-gray-900 text-center"},"Available Car Wash Services",-1)),t("div",W,[e[9]||(e[9]=t("label",{for:"district",class:"block text-sm font-medium text-gray-900 mb-1"},"Nearby",-1)),t("div",G,[L(t("select",{id:"district","onUpdate:modelValue":e[3]||(e[3]=s=>u.value=s),class:"block w-full appearance-none rounded-xl border border-gray-300 bg-gradient-to-r from-white via-gray-50 to-white px-4 py-2 pr-10 text-gray-900 shadow-md focus:border-[#FF2D2D] focus:ring-2 focus:ring-[#FF2D2D] sm:text-sm transition"},[e[7]||(e[7]=t("option",{value:"all"},"All Districts",-1)),(r(!0),l(x,null,k(a.districts,s=>(r(),l("option",{key:s,value:s},"District "+i(s),9,H))),128))],512),[[z,u.value]]),e[8]||(e[8]=t("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},[t("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])]),v.value.length>0?(r(),l("div",T,[(r(!0),l(x,null,k(v.value,s=>(r(),l("div",{key:s.id,class:"bg-white shadow-md rounded-xl p-4 sm:p-6 flex flex-col items-center text-center border border-gray-200 hover:shadow-xl hover:-translate-y-1 transition"},[t("img",{src:I(s),alt:"Car Wash Logo",class:"h-20 w-20 object-contain mb-4",onError:S},null,40,U),t("h3",q,i(s.name),1),t("p",J,i(s.address),1),t("p",{class:h(["text-xs font-semibold mb-4",s.status==="open"?"text-green-600":"text-red-600"])},i(s.status==="open"?"üü¢ Open":"üî¥ Closed"),3),s.status==="open"?(r(),l("button",{key:0,onClick:b(tt=>B(s),["prevent"]),class:"w-full sm:w-auto px-5 py-2 rounded-full bg-[#002B5C] text-white font-medium shadow hover:bg-[#FF2D2D] hover:scale-105 transition"}," Book Now ",8,K)):(r(),l("button",Q," üö´ Closed ")),t("a",{href:`/customer/feedback/${s.id}`,class:"mt-2 w-full sm:w-auto px-5 py-2 rounded-full bg-[#FF2D2D] text-white font-medium shadow hover:bg-[#002B5C] hover:scale-105 transition"}," Feedback ",8,X)]))),128))])):(r(),l("p",Y,"No approved shops available."))])]),c.value?(r(),l("div",Z,[t("div",{class:"bg-white rounded-xl shadow-lg max-w-md w-full sm:w-11/12 p-6 overflow-auto"},[e[11]||(e[11]=t("h2",{class:"text-lg font-bold text-gray-800 mb-4"},"Booking Reminder Notice",-1)),e[12]||(e[12]=t("ul",{class:"list-disc list-inside text-sm text-gray-700 space-y-2 mb-4"},[t("li",null,"Please make sure to arrive on time for your selected schedule to secure your slot."),t("li",null,"If you are unable to come, kindly note that the reservation/down payment is non-refundable."),t("li",null,"If you arrive late, accommodation will depend on the availability of the car wash staff and schedule.")],-1)),e[13]||(e[13]=t("p",{class:"text-sm text-gray-700 font-semibold mb-4"},"‚úÖ By clicking ‚ÄúConfirm Booking‚Äù, you agree to these conditions.",-1)),t("div",{class:"flex flex-col sm:flex-row justify-end gap-3"},[t("button",{onClick:_,class:"px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400 w-full sm:w-auto"},"Cancel"),t("button",{onClick:F,class:"px-4 py-2 bg-[#002B5C] text-white rounded-lg hover:bg-[#FF2D2D] w-full sm:w-auto"},"Confirm Booking")])])])):w("",!0)],64)}}});export{ot as default};
