import{d as L,r as n,c as z,a as l,o as r,m as O,e,b as D,u as c,n as _,t as i,p as F,f as g,g as h,i as S,F as v,j as B,q as M,k as P,h as I}from"./app-Dznz6JTa.js";import{d as a}from"./index-C5kYDwCf.js";const U={class:"w-full bg-white flex items-center justify-between px-4 py-3 shadow-md sticky top-0 z-40"},R={class:"hidden sm:block text-sm font-semibold text-gray-800"},T={class:"flex min-h-screen bg-gradient-to-br from-white via-blue-50 to-[#002B5C]"},Y={class:"space-y-3 p-4"},q={class:"flex-1 p-4 sm:p-8"},G={class:"mt-6 bg-white/80 backdrop-blur-lg rounded-xl shadow-md p-4 border border-gray-100 grid grid-cols-1 sm:grid-cols-2 gap-4"},H=["value"],J={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-6"},K=["src"],Q={class:"text-lg font-semibold text-gray-800"},X={class:"text-sm text-gray-500 mb-2"},Z=["onClick"],ee={key:1,disabled:"",class:"w-full sm:w-auto px-5 py-2 rounded-full bg-gray-400 text-white font-medium shadow cursor-not-allowed"},te={key:1,disabled:"",class:"w-full sm:w-auto px-5 py-2 rounded-full bg-gray-400 text-white font-medium shadow cursor-not-allowed"},se=["href"],oe={key:1,class:"text-gray-500 text-center mt-8"},le={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 px-4"},re={class:"bg-white rounded-xl shadow-lg max-w-md w-full p-6"},ae={class:"flex items-start mb-4"},ne={class:"bg-[#182235] text-gray-200 text-center sm:text-left py-8 px-6 border-t border-gray-700"},ie={class:"border-t border-gray-700 mt-8 pt-4 text-center text-xs text-gray-400"},ge=L({__name:"Dashboard",props:{shops:{},districts:{},auth:{}},setup(W){const f=n("all"),b=n(!1);function y(){b.value=!b.value}const d=W,m=n("all"),N=()=>{a.Inertia.post("/logout",{},{onSuccess:()=>a.Inertia.get("/login"),onError:o=>{console.error("Logout error:",o),alert("Failed to log out.")}})},p=n(!1),x=n(null),u=n(!1),V=o=>{if(o.status==="closed"){alert("üö´ Sorry, this shop is currently closed.");return}if(!d.auth.user){a.Inertia.get("/login");return}x.value=o,p.value=!0,u.value=!1},j=()=>{if(!u.value){alert("‚ö†Ô∏è Please check the agreement box before confirming your booking.");return}x.value&&(a.Inertia.get(`/customer/book/${x.value.id}`),p.value=!1)},$=()=>{p.value=!1,x.value=null,u.value=!1},w=z(()=>{let o=d.shops;return m.value!=="all"&&(o=o.filter(t=>t.district==m.value)),f.value!=="all"&&(o=o.filter(t=>t.status===f.value)),o});function A(o){return o.logo?o.logo.startsWith("http")?o.logo:`/storage/${o.logo}`:"/images/default-carwash.png"}function E(o){const t=o.target;t&&(t.src="/logos/default-carwash.png")}return(o,t)=>{var k;return r(),l(v,null,[O(c(_),{title:"Customer Dashboard"}),e("header",U,[e("button",{onClick:y,class:"flex flex-col justify-between w-6 h-5 focus:outline-none hover:opacity-80 transition"},[...t[7]||(t[7]=[e("span",{class:"block h-0.5 bg-gray-800 rounded"},null,-1),e("span",{class:"block h-0.5 bg-gray-800 rounded"},null,-1),e("span",{class:"block h-0.5 bg-gray-800 rounded"},null,-1)])]),t[8]||(t[8]=e("div",{class:"flex items-center gap-2"},[e("img",{src:"/images/washwiselogo2.png",alt:"WashWise Logo",class:"h-10 w-auto object-contain"})],-1)),e("span",R,i(((k=d.auth.user)==null?void 0:k.name)||"Guest"),1)]),e("div",T,[b.value?(r(),l("div",{key:0,onClick:y,class:"fixed inset-0 bg-black bg-opacity-40 z-40 sm:hidden"})):D("",!0),e("aside",{class:F(["fixed top-0 left-0 h-full w-64 bg-gradient-to-b from-[#182235] to-[#0f172a] text-white shadow-lg z-50 transform transition-transform duration-300",b.value?"translate-x-0":"-translate-x-full"])},[e("div",{class:"flex justify-between items-center p-4 border-b border-gray-700"},[t[9]||(t[9]=e("h2",{class:"text-lg font-bold"},"Menu",-1)),e("button",{onClick:y,class:"text-gray-400 hover:text-red-500 text-2xl"},"√ó")]),e("nav",Y,[e("button",{onClick:t[0]||(t[0]=g(s=>c(a.Inertia).get("/settings/profile"),["prevent"])),class:"w-full text-left px-3 py-2 rounded-lg hover:bg-white/10 transition font-bold"},"‚öôÔ∏è Edit Profile"),e("button",{onClick:t[1]||(t[1]=g(s=>c(a.Inertia).get("/settings/password"),["prevent"])),class:"w-full text-left px-3 py-2 rounded-lg hover:bg-white/10 transition font-bold"},"üîí Password"),e("button",{onClick:t[2]||(t[2]=g(s=>c(a.Inertia).get("/settings/appearance"),["prevent"])),class:"w-full text-left px-3 py-2 rounded-lg hover:bg-white/10 transition font-bold"},"üí≥ Transaction History"),e("button",{onClick:t[3]||(t[3]=g(s=>c(a.Inertia).get("/settings/verify"),["prevent"])),class:"w-full text-left px-3 py-2 rounded-lg text-yellow-400 hover:bg-yellow-400/10 transition font-bold"}," ‚úÖ Verify Now "),e("button",{onClick:N,class:"w-full text-left px-3 py-2 rounded-lg text-red-500 hover:bg-red-500/10 transition font-bold"},"üö™ Log Out")])],2),e("main",q,[t[14]||(t[14]=e("h1",{class:"text-2xl sm:text-3xl font-extrabold text-gray-900 text-center"},"Available Car Wash Services",-1)),e("div",G,[e("div",null,[t[11]||(t[11]=e("label",{for:"district",class:"block text-sm font-medium text-gray-900 mb-1"},"Nearby",-1)),h(e("select",{id:"district","onUpdate:modelValue":t[4]||(t[4]=s=>m.value=s),class:"block w-full appearance-none rounded-xl border border-gray-300 px-4 py-2 pr-10 text-gray-900 shadow focus:border-[#FF2D2D] focus:ring-2 focus:ring-[#FF2D2D] text-sm transition"},[t[10]||(t[10]=e("option",{value:"all"},"All Districts",-1)),(r(!0),l(v,null,B(d.districts,s=>(r(),l("option",{key:s,value:s},"District "+i(s),9,H))),128))],512),[[S,m.value]])]),e("div",null,[t[13]||(t[13]=e("label",{for:"status",class:"block text-sm font-medium text-gray-900 mb-1"},"Shop Status",-1)),h(e("select",{id:"status","onUpdate:modelValue":t[5]||(t[5]=s=>f.value=s),class:"block w-full appearance-none rounded-xl border border-gray-300 px-4 py-2 pr-10 text-gray-900 shadow focus:border-[#FF2D2D] focus:ring-2 focus:ring-[#FF2D2D] text-sm transition"},[...t[12]||(t[12]=[e("option",{value:"all"},"All Shops",-1),e("option",{value:"open"},"üü¢ Open Shops",-1),e("option",{value:"closed"},"üî¥ Closed Shops",-1)])],512),[[S,f.value]])])]),w.value.length>0?(r(),l("div",J,[(r(!0),l(v,null,B(w.value,s=>{var C;return r(),l("div",{key:s.id,class:"bg-white shadow-md rounded-xl p-4 flex flex-col items-center text-center border border-gray-200 hover:shadow-xl hover:-translate-y-1 transition"},[e("img",{src:A(s),alt:"Car Wash Logo",class:"h-20 w-20 object-contain mb-4",onError:E},null,40,K),e("h3",Q,i(s.name),1),e("p",X,i(s.address),1),e("p",{class:F(["text-xs font-semibold mb-4",s.status==="open"?"text-green-600":"text-red-600"])},i(s.status==="open"?"üü¢ Open":"üî¥ Closed"),3),s.status==="open"?(r(),l(v,{key:0},[((C=d.auth.user)==null?void 0:C.customer_status)==="Approved"?(r(),l("button",{key:0,onClick:g(de=>V(s),["prevent"]),class:"w-full sm:w-auto px-5 py-2 rounded-full bg-[#002B5C] text-white font-medium shadow hover:bg-[#FF2D2D] hover:scale-105 transition"}," Book Now ",8,Z)):(r(),l("button",ee," ‚ö†Ô∏è Not Approved "))],64)):(r(),l("button",te," üö´ Closed ")),e("a",{href:`/customer/feedback/${s.id}`,class:"mt-2 w-full sm:w-auto px-5 py-2 rounded-full bg-[#FF2D2D] text-white font-medium shadow hover:bg-[#002B5C] hover:scale-105 transition"}," Feedback ",8,se)])}),128))])):(r(),l("p",oe,"No approved shops available."))])]),p.value?(r(),l("div",le,[e("div",re,[t[16]||(t[16]=e("h2",{class:"text-lg font-bold text-gray-800 mb-4"},"Booking Reminder Notice",-1)),t[17]||(t[17]=e("ul",{class:"list-disc list-inside text-sm text-gray-700 space-y-2 mb-4"},[e("li",null,"Please make sure to arrive on time for your selected schedule to secure your slot."),e("li",null,"If you are unable to come, kindly note that the reservation/down payment is non-refundable."),e("li",null,"If you arrive late, accommodation will depend on staff availability."),e("li",null,"In case of unforeseen events (e.g., heavy rain, technical issues, or emergencies), your appointment may be rescheduled to the next available slot. You may also rebook your preferred schedule once the system reopens for booking.")],-1)),e("div",ae,[h(e("input",{id:"agree",type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=s=>u.value=s),class:"mt-1 w-4 h-4 text-[#002B5C] border-gray-300 rounded focus:ring-[#FF2D2D]"},null,512),[[M,u.value]]),t[15]||(t[15]=e("label",{for:"agree",class:"ml-2 text-sm text-gray-700 font-semibold"}," By clicking ‚ÄúConfirm Booking‚Äù, you agree to these conditions. ",-1))]),e("div",{class:"flex flex-col sm:flex-row justify-end gap-3"},[e("button",{onClick:$,class:"px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400 w-full sm:w-auto"},"Cancel"),e("button",{onClick:j,class:"px-4 py-2 bg-[#002B5C] text-white rounded-lg hover:bg-[#FF2D2D] w-full sm:w-auto"},"Confirm Booking")])])])):D("",!0),e("footer",ne,[t[21]||(t[21]=P('<div class="max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 gap-6"><div><h2 class="text-lg font-bold text-white mb-3">About WashWise</h2><p class="text-sm leading-relaxed"> WashWise is your trusted platform for booking car wash services ‚Äî connecting customers and business owners for a smoother, cleaner experience every day. </p></div><div><h2 class="text-lg font-bold text-white mb-3">Contact Us</h2><ul class="text-sm space-y-1"><li>üìû +63 992 759 4673</li><li>‚úâÔ∏è washwise00@gmail.com</li></ul></div></div>',1)),e("div",ie,[I(" ¬© "+i(new Date().getFullYear())+" WashWise. All rights reserved. ",1),t[18]||(t[18]=e("br",{class:"sm:hidden"},null,-1)),t[19]||(t[19]=I(" Developed by ",-1)),t[20]||(t[20]=e("span",{class:"text-[#FF2D2D] font-semibold"},"Washwise Team.",-1))])])],64)}}});export{ge as default};
